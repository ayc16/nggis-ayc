import{V as i,aa as s}from"./chunk-375OYO4P.js";import{h as a}from"./chunk-EAH6BNBL.js";function g(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function d(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function b(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function L(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function m(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function h(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function v(e){return e?.type==="subtype-sublayer"}var S={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function w(e){let t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function j(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function E(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function T(e){return(e?.type==="feature"||e?.type==="subtype-group")&&e.source?.type==="feature-layer"}function C(e,t){return a(this,null,function*(){let n=i?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;let r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;let u=`${e.substring(0,r)}/rest/info`,o=t!=null?t.signal:null,{data:c}=yield s(u,{query:{f:"json"},responseType:"json",signal:o});return c?.owningSystemUrl||null})}function l(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function M(e){return l(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function y(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function x(e){return!!y(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{g as a,d as b,b as c,L as d,m as e,h as f,v as g,S as h,w as i,j,E as k,T as l,C as m,M as n,x as o};
