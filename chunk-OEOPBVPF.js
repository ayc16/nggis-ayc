import{i as l,j as m}from"./chunk-VK5N5HMZ.js";import"./chunk-SYUMSOAT.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-2622HKWI.js";import"./chunk-QCG2T55M.js";import{a as y,d as n,f as o,g as i}from"./chunk-UAZOXZEX.js";import"./chunk-IISBSAYJ.js";import"./chunk-2TKJWM7A.js";import"./chunk-PRVSRJH5.js";import"./chunk-QWLQUMDY.js";import"./chunk-M76YZBV5.js";import"./chunk-HXQMOXFX.js";import"./chunk-BKKKVIAS.js";import"./chunk-BCREO4Q5.js";import"./chunk-76YVRX2R.js";import"./chunk-OZF6BMOL.js";import"./chunk-GJP6PTKT.js";import"./chunk-RSDQHAJX.js";import"./chunk-SLMQFZE3.js";import"./chunk-BN2F4ATU.js";import"./chunk-DJULDHPW.js";import"./chunk-NDG5FXLR.js";import"./chunk-V477EWXM.js";import"./chunk-5ODCEDHC.js";import"./chunk-2KZICFRS.js";import"./chunk-D2RUV6O4.js";import"./chunk-4JWMB5SM.js";import"./chunk-VOYK3LZF.js";import"./chunk-HOJTYTYD.js";import"./chunk-XNEAL2YW.js";import"./chunk-J7M5V2SQ.js";import"./chunk-HRFJUMCP.js";import"./chunk-375OYO4P.js";import"./chunk-AUTL5LCV.js";import"./chunk-KUJG22IX.js";import"./chunk-OVHPPCBL.js";import"./chunk-W3WDPWBE.js";import"./chunk-GISCFF3Z.js";import"./chunk-MLSR6YE6.js";import"./chunk-SNFOAZZQ.js";import"./chunk-CPDJJRWA.js";import"./chunk-HQMV3KQV.js";import"./chunk-CRMMDK2Z.js";import{h as t}from"./chunk-EAH6BNBL.js";var c="Image Service",u="imagery-layer-save",g="imagery-layer-save-as",f="imagery-tile-layer-save",T="imagery-tile-layer-save-as";function p(a){if(a.type==="imagery")return{isValid:!0};let{raster:e}=a,r=e?.datasetFormat==="Function"?e.primaryRasters?.rasters[0]:e;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function v(a){let e=a.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function I(a,e){return t(this,null,function*(){let{parsedUrl:r,title:s,fullExtent:d}=a;e.url=r.path,e.title||=s;try{e.extent=yield o(d)}catch{e.extent=void 0}n(e,i.METADATA),a.type==="imagery-tile"&&y(e,i.TILED_IMAGERY)})}function w(a,e){return t(this,null,function*(){let r=a.type==="imagery"?u:f;return l({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:r},e)})}function E(a,e,r){return t(this,null,function*(){let s=a.type==="imagery"?g:T;return m({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:s,newItem:e,setItemProperties:I},r)})}export{w as save,E as saveAs};
