import{a as M,c as L}from"./chunk-2OT2C2UU.js";import{i as c}from"./chunk-XIMCHX2H.js";import{a as d,d as R}from"./chunk-HOJTYTYD.js";import{a as A}from"./chunk-RQD6EDD6.js";import{aa as D}from"./chunk-XPCG2OJX.js";import{h as N,l as O,r as B,t as w}from"./chunk-HQMV3KQV.js";import{h as b}from"./chunk-EAH6BNBL.js";var C={ar:"ar-u-nu-latn"},h=new WeakMap,S={};function x(e){let t=e||S;if(!h.has(t)){let r=d(),n=C[d()]||r;h.set(t,new Intl.NumberFormat(n,e))}return h.get(t)}function J(e={}){let t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function m(e,t){return Object.is(e,-0)&&(e=0),x(t).format(e)}function V(e,t=d()){if(!e)return null;let r=F.get(t);if(!r){let n=x().formatToParts(12345.6),o=[...x({useGrouping:!1}).format(9876543210)].reverse(),a=new Map(o.map((s,l)=>[s,l])),i=new RegExp(`[${n.find(s=>s.type==="group")?.value}]`,"g"),u=new RegExp(`[${n.find(s=>s.type==="decimal")?.value}]`),f=new RegExp(`[${o.join("")}]`,"g"),g=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,p=/[-\u2212\u2013\u2014\u2015]/g;r=s=>{if((s=s.trim().replaceAll(i,"").replace(u,".").replace(f,k=>String(a.get(k))).replaceAll(g,"").replaceAll(p,"-"))==="")return null;let l=Number(s);return isNaN(l)?null:l},F.set(t,r)}return r(e)}R(()=>{h=new WeakMap,S={}});var F=new Map;var T=()=>B.getLogger("esri.intl.substitute");function j(e,t,r={}){let{format:n={}}=r;return O(e,o=>I(o,t,n))}function I(e,t,r){let n,o,a=e.indexOf(":");if(a===-1?n=e.trim():(n=e.slice(0,a).trim(),o=e.slice(a+1).trim()),!n)return"";let i=N(n,t);if(i==null)return"";let u=(o?r?.[o]:null)??r?.[n];return u?W(i,u):o?z(i,o):$(i)}function W(e,t){switch(t.type){case"date":return c(e,t.intlOptions);case"number":return m(e,t.intlOptions);default:return T().warn("missing format descriptor for key {key}"),$(e)}}function z(e,t){switch(t.toLowerCase()){case"dateformat":return c(e);case"numberformat":return m(e);default:return T().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?c(e):/^numberformat/i.test(t)?m(e):$(e)}}function $(e){switch(typeof e){case"string":return e;case"number":return m(e);case"boolean":return""+e;default:return e instanceof Date?c(e):""}}function G(e,t,r,n){return b(this,null,function*(){let o=t.exec(r);if(!o)throw new w("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);let a=o[1]?`${o[1]}/`:"",i=o[2],u=L(n),f=`${a}${i}.json`,g=u?`${a}${i}_${u}.json`:f,p;try{p=yield U(e(g))}catch(s){if(g===f)throw new w("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:s});try{p=yield U(e(f))}catch(l){throw new w("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:l})}}return p})}function U(e){return b(this,null,function*(){if(v.fetchBundleAsset!=null)return v.fetchBundleAsset(e);let t=yield D(e,{responseType:"text"});return JSON.parse(t.data)})}var y=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let o;o=typeof n=="string"?a=>new URL(a,new URL(n,window.location.href)).href:n instanceof URL?a=>new URL(a,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=o,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return G(this.getAssetUrl,this.matcher,t,r)}};function E(e){return new y(e)}var v={};M(E({pattern:"esri/",location:A}));export{J as a,m as b,V as c,j as d};
