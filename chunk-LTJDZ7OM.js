import{a as m}from"./chunk-6EZU2A2D.js";import{a as c}from"./chunk-JCJ5KQ5Q.js";import{b as i}from"./chunk-GMW3QDVG.js";import{a as f}from"./chunk-PDBA6QOJ.js";import{b as e}from"./chunk-2ETHV3H2.js";import{a as n}from"./chunk-M2GLXRA2.js";import{b as a}from"./chunk-ZVHU7VE3.js";function I(r){r.fragment.uniforms.add(new m("projInfo",(o,t)=>p(t.camera))),r.fragment.uniforms.add(new c("zScale",(o,t)=>d(t.camera))),r.fragment.code.add(i`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}function p(r){let o=r.projectionMatrix;return o[11]===0?a(s,2/(r.fullWidth*o[0]),2/(r.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):a(s,-2/(r.fullWidth*o[0]),-2/(r.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}var s=n();function d(r){return r.projectionMatrix[11]===0?e(l,0,1):e(l,1,0)}var l=f();export{I as a};
