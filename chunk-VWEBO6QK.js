import{A as Xe,B as et,C as tt,D as rt,E as st,F as it,G as de,H as pe,K as ot,L as nt,P as at,Q as G,R as me,S as P,a as ze,b as _,c as Ge,d as B,e as He,f as le,g as h,h as Ve,i as ue,j as $e,k as D,l as u,m as z,n as g,o as Je,p as We,q as Ke,r as fe,s as he}from"./chunk-KAAR5ZJN.js";import{a as ce}from"./chunk-W3WDPWBE.js";import{a as p,g as Ye,j as Ze,z as Qe}from"./chunk-WKT5W7KT.js";import{b as Be}from"./chunk-MLSR6YE6.js";import{b as L,e as x,f as je,p as N,r as j}from"./chunk-X3IDZTNG.js";import{a as E,e as qe,o as Le}from"./chunk-IQJU4QT3.js";import{a as Ue,b as Fe,k as Me}from"./chunk-EAH6BNBL.js";var ct=new WeakMap;function Ft(r,e,t=!1){let s=`\u{1F6D1} DEPRECATED - ${e}`;if(!t)return void r.warn(s);let i=ct.get(r);i||(i=new Set,ct.set(r,i)),i.has(e)||(i.add(e),r.warn(s))}function lt(r,e,t={}){if(E("esri-deprecation-warnings")){let{moduleName:s}=t;ut(r,`Function: ${(s?s+"::":"")+e+"()"}`,t)}}function yr(r,e,t={}){if(E("esri-deprecation-warnings")){let{moduleName:s}=t;ut(r,`Property: ${(s?s+"::":"")+e}`,t)}}function ut(r,e,t={}){if(E("esri-deprecation-warnings")){let{replacement:s,version:i,see:o,warnOnce:a}=t,n=e;s&&(n+=`
	\u{1F6E0}\uFE0F Replacement: ${s}`),i&&(n+=`
	\u2699\uFE0F Version: ${i}`),o&&(n+=`
	\u{1F517} See ${o} for more details.`),Ft(r,n,a)}}var l;(function(r){r[r.DEFAULTS=0]="DEFAULTS",r[r.COMPUTED=1]="COMPUTED",r[r.SERVICE=2]="SERVICE",r[r.PORTAL_ITEM=3]="PORTAL_ITEM",r[r.WEB_SCENE=4]="WEB_SCENE",r[r.WEB_MAP=5]="WEB_MAP",r[r.LINK_CHART=6]="LINK_CHART",r[r.USER=7]="USER"})(l||(l={}));var Or=l.USER+1;function H(r){switch(r){case"defaults":return l.DEFAULTS;case"service":return l.SERVICE;case"portal-item":return l.PORTAL_ITEM;case"web-scene":return l.WEB_SCENE;case"web-map":return l.WEB_MAP;case"link-chart":return l.LINK_CHART;case"user":return l.USER;default:return null}}function V(r){switch(r){case l.DEFAULTS:return"defaults";case l.SERVICE:return"service";case l.PORTAL_ITEM:return"portal-item";case l.WEB_SCENE:return"web-scene";case l.WEB_MAP:return"web-map";case l.LINK_CHART:return"link-chart";case l.USER:return"user"}}function ft(r){return V(r)}var R=class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}record(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,t)=>e-t)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,t)=>e+t,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var ge=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},_e=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},ye=0,ht=0,U={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},ve=["prepare","preRender","render","postRender","update","finish"],Oe=[],b=new he,we=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function Mt(){w!=null&&(cancelAnimationFrame(w),w=requestAnimationFrame(be))}var J={frameTasks:b,willDispatch:!1,clearFrameTasks:qt,dispatch:mt,executeFrameTasks:Lt,reschedule:Mt};function dt(r){let e=new _e(r);return Oe.push(e),J.willDispatch||(J.willDispatch=!0,fe(mt)),e}function Ir(r){let e=new ge(r);return b.push(e),w==null&&(ye=performance.now(),w=requestAnimationFrame(be)),new we(e)}var w=null;function qt(r=!1){b.forAll(e=>{e.removed=!0}),r&&pt()}function be(){let r=performance.now();w=null,w=b.length>0?requestAnimationFrame(be):null,J.executeFrameTasks(r)}function Lt(r){let e=r-ye;ye=r;let t=ht>0?ht:1e3/60,s=Math.max(0,e-t);U.time=r,U.frameDuration=t-s;for(let i=0;i<ve.length;i++){let o=performance.now(),a=ve[i];b.forAll(n=>{n.paused||n.removed||(i===0&&n.ticks++,n.phases[a]&&(U.elapsedFrameTime=performance.now()-r,U.deltaTime=n.ticks===0?0:e,n.phases[a]?.call(n,U)))}),jt[i].record(performance.now()-o)}pt(),Bt.record(performance.now()-r)}var $=new he;function pt(){b.forAll(r=>{r.removed&&$.push(r)}),b.removeUnorderedMany($.data,$.length),$.clear()}function mt(){for(;Oe.length;){let r=Oe.shift();r.isActive&&r.callback()}J.willDispatch=!1}function Cr(r=1,e){let t=Qe(),s=()=>{Ze(e)?t.reject(Ye()):r===0?t():(--r,fe(()=>s()))};return s(),t.promise}var jt=ve.map(r=>new R(r)),Bt=new R("total");var k=class{constructor(e){this._accessed=[],this._handles=[],this._observerObject=new Te(e),gt.register(this,new WeakRef(this._observerObject),this)}destroy(){gt.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(e){let t=this._accessed;t.includes(e)||t.push(e)}onTrackingEnd(){let e=this._handles,t=this._accessed,s=this._observerObject;for(let i=0;i<t.length;++i)e.push(t[i].observe(s));t.length=0}clear(){let e=this._handles;for(let t=0;t<e.length;++t)e[t].remove();e.length=0}},Te=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;let e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=zt}},gt=new FinalizationRegistry(r=>{r.deref()?.destroy()});function zt(){}function Gt(r){r.length=0}var F=class{constructor(e=50,t=50){this._pool=new D(Array,void 0,Gt,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return Ae.acquire()}static release(e){return Ae.release(e)}static prune(){Ae.prune()}},Ae=new F(100);var W=class extends D{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){let t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};function yt(r,e){for(let t of r.entries())if(e(t[0]))return!0;return!1}function _t(r,e){if(!e)return r;for(let t of e)r.add(t);return r}function Ht(r,e){let t=new Set;return _t(t,r),_t(t,e),t}function Vt(r,e){let t=new Set;for(let s of e)r.has(s)&&t.add(s);return t}function Lr(r,e){if(!r||!e)return!1;if(r===e)return!0;for(let t of r)if(!e.has(t))return!1;return!0}function jr(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}function $t(r,e){let t=new Set(r);for(let s of e)t.delete(s);return t}function Br(r,e){return $t(Ht(r,e),Vt(r,e))}var Jt=0;function K(){return++Jt}function vt(r,e){let t=r[r.length-1]==="?"?r.slice(0,-1):r;if(e.getItemAt!=null||Array.isArray(e)){let i=parseInt(t,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.at(i)}let s=_(e);return Ge(s,t)?s.get(t):e[t]}function Ot(r,e,t){if(r==null)return r;let s=vt(e[t],r);return!s&&t<e.length-1?void 0:t===e.length-1?s:Ot(s,e,t+1)}function T(r,e,t=0){return typeof e!="string"||e.includes(".")?Ot(r,He(e),t):vt(e,r)}function m(r,e){return T(r,e)}function Se(r,e){return T(e,r)!==void 0}var I=!1,Y=[];function Ee(r,e){let t=new k(o),s=null,i=!1;function o(){if(!t||i)return;if(I)return void wt(o);let n=s;t.clear(),I=!0,i=!0,s=g(t,r),i=!1,I=!1,e(s,n),bt()}function a(){t&&(t.destroy(),t=null,s=null)}return i=!0,s=g(t,r),i=!1,p(a)}function Ne(r,e){let t=new k(i),s=null;function i(){e(s,a)}function o(){t&&(t.destroy(),t=null),s=null}function a(){return t?(t.clear(),s=g(t,r),s):null}return a(),p(o)}function Kr(r){let e=new k(s),t=!1;function s(){e&&!t&&(I?wt(s):(e.clear(),I=!0,t=!0,g(e,r),t=!1,I=!1,bt()))}function i(){e&&(e.destroy(),e=null)}return t=!0,g(e,r),t=!1,p(i)}function wt(r){Y.includes(r)||Y.unshift(r)}function bt(){for(;Y.length;)Y.pop()()}var M;(function(r){r[r.Untracked=0]="Untracked",r[r.Tracked=1]="Tracked"})(M||(M={}));var A=class{constructor(){this.uid=K(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,s,i,o){return this.pool.acquire(M.Untracked,e,t,s,i,o,x)}static acquireTracked(e,t,s,i){return this.pool.acquire(M.Tracked,e,t,s,null,null,i)}notify(e,t){this.type===M.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,s,i,o,a,n){this.uid=K(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=s,this.getValue=i,this.target=o,this.path=a,this.equals=n}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=K(),this.removed=!0}};A.pool=new W(A);var Z=new F,y=new Set,Q;function X(r){y.delete(r),y.add(r),Q||(Q=dt(Kt))}function Wt(r){if(r.removed)return;let e=r.oldValue,t=r.getValue();r.equals(e,t)||(r.oldValue=t,r.notify(t,e))}function Tt(r){for(let e of y.values())e.target===r&&(e.removed=!0)}function Kt(){let r=10;for(;Q&&r--;){Q=null;let e=Yt(),t=Z.acquire();for(let s of e){let i=s.uid;Wt(s),i===s.uid&&s.removed&&t.push(s)}for(let s of y)s.removed&&(t.push(s),y.delete(s));for(let s of t)A.pool.release(s);Z.release(t),Z.release(e),De.forEach(s=>s())}}function Yt(){let r=Z.acquire();r.length=y.size;let e=0;for(let t of y)r[e]=t,++e;return y.clear(),r}var De=new Set;function cs(r){return De.add(r),p(()=>De.delete(r))}function Zt(r,e,t){let s=le(r,e,t,(i,o,a)=>{let n,c,f=Ne(()=>T(i,o),(v,d)=>{i.__accessor__?.lifecycle===h.DESTROYED||n&&n.uid!==c?s.remove():(n||(n=A.acquireUntracked(v,a,d,i,o),c=n.uid),X(n))});return p(()=>{f.remove(),n&&(n.uid!==c||n.removed||(n.removed=!0,X(n)),n=null),s=f=null})});return s}function Qt(r,e,t){let s=le(r,e,t,(i,o,a)=>{let n=!1;return Ee(()=>T(i,o),(c,f)=>{i.__accessor__.lifecycle!==h.DESTROYED?n||(n=!0,x(f,c)||a.call(i,c,f,o,i),n=!1):s.remove()})});return s}function At(r,e,t,s=!1){return r.__accessor__&&r.__accessor__.lifecycle!==h.DESTROYED?s?Qt(r,e,t):Zt(r,e,t):p()}function Xt(r,e,t){let s,i,o=Ne(r,(a,n)=>{s&&s.uid!==i?o.remove():(s||(s=A.acquireTracked(a,e,n,t),i=s.uid),X(s))});return p(()=>{o.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,X(s)),s=null),o=null})}function er(r,e,t){let s=!1;return Ee(r,(i,o)=>{s||(s=!0,t(o,i)||e(i,o),s=!1)})}function ls(r,e,t=!1,s=je){return t?er(r,e,s):Xt(r,e,s)}function us(r){return yt(y,e=>e.oldValue===r)}function C(r,e,t){if(r&&e)if(typeof e=="object")for(let s of Object.getOwnPropertyNames(e))C(r,s,e[s]);else{if(e.includes(".")){let i=e.split("."),o=i.splice(-1,1)[0];return void C(m(r,i),o,t)}let s=r.__accessor__;s!=null&&tr(e,s),r[e]=t}}function tr(r,e){if(E("esri-unknown-property-errors")&&!rr(r,e))throw new j("set:unknown-property",sr(r,e))}function rr(r,e){return e.metadata[r]!=null}function sr(r,e){return"setting unknown property '"+r+"' on instance of "+e.host.declaredClass}function St(r={}){return(e,t)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${t}. Accessor does not support static properties.`);let s=Object.getOwnPropertyDescriptor(e,t),i=ue(e,t);s&&(s.get||s.set?(i.get=s.get||i.get,i.set=s.set||i.set):"value"in s&&("value"in r&&N.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${t}" on "${e.constructor.name}" already defined in the metadata`,r),i.value=r.value=s.value)),r.readOnly!=null&&(i.readOnly=r.readOnly);let o=r.aliasOf;if(o){let c=typeof o=="string"?o:o.source,f=typeof o=="string"?null:o.overridable===!0,v;i.dependsOn=[c],i.get=function(){let d=m(this,c);if(typeof d=="function"){v||(v=c.split(".").slice(0,-1).join("."));let S=m(this,v);S&&(d=d.bind(S))}return d},i.readOnly||(i.set=f?function(d){this._override(t,d)}:function(d){C(this,c,d)})}let a=r.type,n=r.types;i.cast||(a?i.cast=ir(a):n&&(Array.isArray(n)?i.cast=et(pe(n[0])):i.cast=pe(n))),$e(i,r),r.range&&(i.cast=or(i.cast,r.range))}}function bs(r,e,t){let s=ue(r,t);s.json||(s.json={});let i=s.json;return e!==void 0&&(i.origins||(i.origins={}),i.origins[e]||(i.origins[e]={}),i=i.origins[e]),i}function ir(r){let e=0,t=r;if(ot(r))return nt(r);for(;Array.isArray(t)&&t.length===1&&typeof t[0]!="string"&&typeof t[0]!="number";)t=t[0],e++;let s=t;if(it(s))return e===0?de(s):rt(de(s),e);if(e===1)return tt(s);if(e>1)return st(s,e);let i=r;return i.from?i.from:Xe(i)}function or(r,e){return t=>{let s=+r(t);return e.step!=null&&(s=Math.round(s/e.step)*e.step),e.min!=null&&(s=Math.max(e.min,s)),e.max!=null&&(s=Math.min(e.max,s)),s}}function As(r){let e=[];return function*(){yield*Me(e);for(let t of r)e.push(t),yield t}}function Ss(r,e){for(let t of r)if(t!=null&&e(t))return t}function ke(r){return r!=null&&typeof r[Symbol.iterator]=="function"}var ee=class r{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(ke(e)){let s=this._getOrCreateGroup(t);for(let i of e)this._isHandle(i)&&s.push(i)}else this._isHandle(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if(typeof e=="function")this._groups.forEach(s=>s.forEach(e));else{let s=this._getGroup(e);s&&t&&s.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(typeof e!="string"&&ke(e)){for(let t of e)this.remove(t);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach(e=>this._removeAllFromGroup(e)),this._groups.clear(),this}_isHandle(e){return e&&(!!e.remove||e instanceof r)}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);let t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){for(let t of e)t instanceof r?t.removeAll():t.remove()}};var te=class{constructor(e,t){this._observers=e,this._observer=t}remove(){Le(this._observers,this._observer)}};var re=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return nr;this._observers==null&&(this._observers=[]);let t=this._observers,s=!1,i=!1,o=t.length;for(let a=0;a<o;++a){let n=t[a];if(n.destroyed)i=!0;else if(n===e){s=!0;break}}return s||(t.push(e),i&&this._removeDestroyedObservers()),new te(t,e)}_removeDestroyedObservers(){let e=this._observers;if(!e||e.length===0)return;let t=e.length,s=0;for(let i=0;i<t;++i){for(;i+s<t&&e[i+s].destroyed;)++s;if(s>0){if(!(i+s<t))break;e[i]=e[i+s]}}e.length=t-s}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this._observers;if(e!=null){for(let t of e)t.onCommitted();this._observers=null}}},nr=p();var q=class extends re{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this._accessed=null,this._handles=null,this.flags=0,this.flags=u.Dirty|(t.nonNullable?u.NonNullable:0)|(t.hasOwnProperty("value")?u.HasDefaultValue:0)|(t.get===void 0?u.DepTrackingInitialized:0)|(t.dependsOn===void 0?u.AutoTracked:0)}destroy(){this.flags&u.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(e){z(this);let t=e.store,s=this.propertyName,i=this.flags,o=t.get(s);if(i&u.Computing||~i&u.Dirty&&t.has(s))return o;this.flags|=u.Computing;let a=e.host,n;i&u.AutoTracked?n=g(this,this.metadata.get,a):(Ke(a,this),n=this.metadata.get.call(a)),t.set(s,n,l.COMPUTED);let c=t.get(s);return c===o?this.flags&=~u.Dirty:Je(this.commit,this),this.flags&=~u.Computing,c}onObservableAccessed(e){if(e===this)return;let t=this._accessed;if(t==null)t=[],this._accessed=t;else if(t.includes(e))return;t.push(e)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=u.DepTrackingInitialized;let e=this._accessed;if(e==null||e.length===0)return;let t=this._handles;t==null&&(t=[],this._handles=t);for(let s=0;s<e.length;++s)t.push(e[s].observe(this));e.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~u.Dirty,this.onCommitted()}_clearObservationHandles(){let e=this._handles;if(e!==null){for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}onInvalidated(){~this.flags&u.Overridden&&(this.flags|=u.Dirty);let e=this._observers;if(e&&e.length>0)for(let t of e)t.onInvalidated()}onCommitted(){let e=this._observers;if(e&&e.length>0){let t=e.slice();for(let s of t)s.onCommitted()}}};var se=class r{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){let t=new r;return this._values.forEach((s,i)=>{e&&e.has(i)||t.set(i,L(s))}),t}get(e){return this._values.get(e)}originOf(){return l.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function ie(r,e,t){return r!==void 0}function Et(r,e,t,s){return r!==void 0&&(!(t==null&&r.flags&u.NonNullable)||(s.lifecycle,h.INITIALIZING,!1))}var oe=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=h.INITIALIZING,this.store=new se,this._origin=l.USER;let t=this.host.constructor.__accessorMetadata__;for(let s in t){let i=new q(s,t[s]);this.propertiesByName.set(s,i)}this.metadata=t}initialize(){this.lifecycle=h.CONSTRUCTING}constructed(){this.lifecycle=h.CONSTRUCTED}destroy(){this.lifecycle=h.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==h.INITIALIZING}get(e){let t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);z(t);let s=this.store;return s.has(e)?s.get(e):t.metadata.value}originOf(e){let t=this.store.originOf(e);if(t===void 0){let s=this.propertiesByName.get(e);if(s!==void 0&&s.flags&u.HasDefaultValue)return"defaults"}return V(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){let t=this.propertiesByName.get(e);if(ie(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){let s=this.propertiesByName.get(e);ie(s)&&this._internalSet(s,t)}getDependsInfo(e,t,s){let i=this.propertiesByName.get(t);if(!ie(i))return"";let o=new Set,a=g({onObservableAccessed:c=>o.add(c),onTrackingEnd:()=>{}},()=>i.metadata.get?.call(e)),n=`${s}${e.declaredClass.split(".").pop()}.${t}: ${a}
`;if(o.size===0)return n;s+="  ";for(let c of o)c instanceof q&&(n+=`${s}${c.propertyName}: undefined
`);return n}setAtOrigin(e,t,s){let i=this.propertiesByName.get(e);if(ie(i))return this._setAtOrigin(i,t,s)}isOverridden(e){let t=this.propertiesByName.get(e);return t!==void 0&&!!(t.flags&u.Overridden)}clearOverride(e){let t=this.propertiesByName.get(e);t&&t.flags&u.Overridden&&(t.flags&=~u.Overridden,t.notifyChange())}override(e,t){let s=this.propertiesByName.get(e);if(!Et(s,e,t,this))return;let i=s.metadata.cast;if(i){let o=this._cast(i,t),{valid:a,value:n}=o;if(Ie.release(o),!a)return;t=n}s.flags|=u.Overridden,this._internalSet(s,t)}set(e,t){let s=this.propertiesByName.get(e);if(!Et(s,e,t,this))return;let i=s.metadata.cast;if(i){let a=this._cast(i,t),{valid:n,value:c}=a;if(Ie.release(a),!n)return;t=c}let o=s.metadata.set;o?o.call(this.host,t):this._internalSet(s,t)}setDefaultOrigin(e){this._origin=H(e)}getDefaultOrigin(){return V(this._origin)}notifyChange(e){let t=this.propertiesByName.get(e);t!==void 0&&t.notifyChange()}invalidate(e){let t=this.propertiesByName.get(e);t!==void 0&&t.invalidate()}commit(e){let t=this.propertiesByName.get(e);t!==void 0&&t.commit()}_internalSet(e,t){let s=this.lifecycle!==h.INITIALIZING?this._origin:l.DEFAULTS;this._setAtOrigin(e,t,s)}_setAtOrigin(e,t,s){let i=this.store,o=e.propertyName;i.has(o,s)&&x(t,i.get(o))&&~e.flags&u.Overridden&&s===i.originOf(o)||(e.invalidate(),i.set(o,t,s),e.commit(),We(this.host,e))}_cast(e,t){let s=Ie.acquire();return s.valid=!0,s.value=t,e&&(s.value=e.call(this.host,t,s)),s}},Ce=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}},Ie=new D(Ce);var ar;function xe(){return ar}var Nt;(function(r){r[r.Ignore=0]="Ignore",r[r.Destroy=1]="Destroy",r[r.ThrowError=2]="ThrowError"})(Nt||(Nt={}));var Dt,kt;function cr(r){if(r==null)return{value:r};if(Array.isArray(r))return{type:[r[0]],value:null};switch(typeof r){case"object":return r.constructor?.__accessorMetadata__||r instanceof Date?{type:r.constructor,value:r}:r;case"boolean":return{type:Boolean,value:r};case"string":return{type:String,value:r};case"number":return{type:Number,value:r};case"function":return{type:r,value:null};default:return}}var O=Symbol("Accessor-Handles"),Pe=Symbol("Accessor-Initialized"),ne=class r{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");let{properties:t,declaredClass:s,constructor:i}=e;delete e.declaredClass,delete e.properties,delete e.constructor;let o=this;class a extends o{constructor(...c){super(...c),this.inherited=null,i&&i.apply(this,c)}}Ve(a.prototype);for(let n in e){let c=e[n];a.prototype[n]=typeof c=="function"?function(...f){let v=this.inherited,d;this.inherited=function(...S){if(o.prototype[n])return o.prototype[n].apply(this,S)};try{d=c.apply(this,f)}catch(S){throw this.inherited=v,S}return this.inherited=v,d}:e[n]}for(let n in t){let c=cr(t[n]);St(c)(a.prototype,n)}return P(s)(a)}constructor(...e){if(this[Dt]=null,this[kt]=!1,this.constructor===r)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");let t=new oe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&this.normalizeCtorArgs&&(t.ctorArgs=this.normalizeCtorArgs.apply(this,e)),xe()?.onInstanceConstruct(this)}postscript(e){let t=this.__accessor__,s=t.ctorArgs||e;t.initialize(),s&&(this.set(s),t.ctorArgs=null),t.constructed(),this.initialize(),this[Pe]=!0}initialize(){}[ze](){this[O]=Be(this[O])}destroy(){this.destroyed||(Tt(this),this.__accessor__.destroy(),xe()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Pe]}get destroyed(){return this.__accessor__?.lifecycle===h.DESTROYED||!1}commitProperty(e){m(this,e)}get(e){return lt(N.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),m(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return C(this,e,t),this}watch(e,t,s){return At(this,e,t,s)}addHandles(e,t){if(this.destroyed){let i=Array.isArray(e)?e:[e];for(let o of i)o.remove();return}let s=this[O];s==null&&(s=this[O]=new ee),s.add(e,t)}removeHandles(e){let t=this[O];t?.remove(e)}removeAllHandles(){let e=this[O];e?.removeAll()}hasHandles(e){let t=this[O];return t!=null&&t.has(e)}_override(e,t){t===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){t==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}};Dt=O,kt=Pe;function lr(r,e,t,s,i){let o={};return e.write?.writer?.call(r,s,o,t,i),o}function It(r,e,t,s,i,o){if(!s?.write)return!1;let a=m(r,t);if(!i&&s.write.overridePolicy){let n=s.write.overridePolicy.call(r,a,t,o??void 0);n!==void 0&&(i=n)}if(i||(i=s.write),!i||i.enabled===!1||i.layerContainerTypes&&o?.layerContainerType&&!i.layerContainerTypes.includes(o.layerContainerType))return!1;if((a===null&&!i.allowNull&&!i.writerEnsuresNonNull||a===void 0)&&i.isRequired){let n=new j("web-document-write:property-required",`Missing value for required property '${t}' on '${r.declaredClass}'`,{propertyName:t,target:r});return n&&o?.messages?o.messages.push(n):n&&!o&&N.getLogger("esri.core.accessorSupport.write").error(n.name,n.message),!1}return!(a===void 0||a===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(t)===l.DEFAULTS)&&ur(r,t,o,s,a)||!i.ignoreOrigin&&o?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(t)<H(o.origin))}function ur(r,e,t,s,i){let o=s.default;if(o===void 0)return!1;if(s.defaultEquals!=null)return s.defaultEquals(i);if(typeof o=="function"){if(Array.isArray(i)){let a=o.call(r,e,t??void 0);return qe(a,i)}return!1}return o===i}function Ti(r,e,t,s){let i=_(r),o=i.metadata,a=me(o[e],s);return!!a&&It(r,i,e,a,t,s)}function Ct(r,e,t){if(r&&typeof r.toJSON=="function"&&(!r.toJSON.isDefaultToJSON||!r.write))return B(e,r.toJSON(t));let s=_(r),i=s.metadata;for(let o in i){let a=me(i[o],t);if(!It(r,s,o,a,void 0,t))continue;let n=m(r,o),c=lr(r,a,a.write&&typeof a.write.target=="string"?a.write.target:o,n,t);Object.keys(c).length>0&&(e=B(e,c),t?.resources?.pendingOperations?.length&&t.resources.pendingOperations.push(Promise.all(t.resources.pendingOperations).then(()=>B(e,c,()=>"replace-arrays"))),t?.writtenProperties&&t.writtenProperties.push({target:r,propName:o,oldOrigin:ft(s.store.originOf(o)),newOrigin:t.origin}))}return e}var ae=class r{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){let t=new r;return this._values.forEach((s,i)=>{e&&e.has(i)||t.set(i,L(s.value),s.origin)}),t}get(e,t){t=this._normalizeOrigin(t);let s=this._values.get(e);return t==null||s?.origin===t?s?.value:void 0}originOf(e){return this._values.get(e)?.origin??l.USER}keys(e){e=this._normalizeOrigin(e);let t=[...this._values.keys()];return e==null?t:t.filter(s=>this._values.get(s)?.origin===e)}set(e,t,s){if((s=this._normalizeOrigin(s))===l.DEFAULTS){let i=this._values.get(e);if(i?.origin!=null&&i.origin>s)return}this._values.set(e,new Re(t,s))}delete(e,t){(t=this._normalizeOrigin(t))!=null&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return(t=this._normalizeOrigin(t))!=null?this._values.get(e)?.origin===t:this._values.has(e)}forEach(e){this._values.forEach(({value:t},s)=>e(t,s))}_normalizeOrigin(e){if(e!=null)return e===l.DEFAULTS?e:l.USER}},Re=class{constructor(e,t){this.value=e,this.origin=t}};function xt(r,e,t){e.keys().forEach(i=>{t.set(i,e.get(i),l.DEFAULTS)});let s=r.metadata;Object.keys(s).forEach(i=>{r.internalGet(i)&&t.set(i,r.internalGet(i),l.DEFAULTS)})}function fr(r,e,t){if(!r?.read||r.read.enabled===!1||!r.read.source)return!1;let s=r.read.source;if(typeof s=="string"){if(s===e||s.includes(".")&&s.indexOf(e)===0&&Se(s,t))return!0}else for(let i of s)if(i===e||i.includes(".")&&i.indexOf(e)===0&&Se(i,t))return!0;return!1}function hr(r){return r&&(!r.read||r.read.enabled!==!1&&!r.read.source)}function dr(r,e,t,s,i){let o=G(e[t],i);hr(o)&&(r[t]=!0);for(let a of Object.getOwnPropertyNames(e))o=G(e[a],i),fr(o,t,s)&&(r[a]=!0)}function pr(r,e,t,s){let i=t.metadata,o=at(i[e],s),a=o?.default;if(a===void 0)return;let n=typeof a=="function"?a.call(r,e,s):a;n!==void 0&&t.set(e,n)}var Pt={origin:"service"};function Rt(r,e,t=Pt){if(!e||typeof e!="object")return;let s=_(r),i=s.metadata,o={};for(let a of Object.getOwnPropertyNames(e))dr(o,i,a,e,t);s.setDefaultOrigin(t.origin);for(let a of Object.getOwnPropertyNames(o)){let n=G(i[a],t).read,c=n?.source,f;f=c&&typeof c=="string"?T(e,c):e[a],n?.reader&&(f=n.reader.call(r,f,e,t)),f!==void 0&&s.set(a,f)}if(!t||!t.ignoreDefaults){s.setDefaultOrigin("defaults");for(let a of Object.getOwnPropertyNames(i))o[a]||pr(r,a,s,t)}s.setDefaultOrigin("user")}function Pi(r,e,t,s=Pt){let i=Fe(Ue({},s),{messages:[]});t(i),i.messages?.forEach(o=>{o.type!=="warning"||r.loaded?s?.messages&&s.messages.push(o):r.loadWarnings.push(o)})}var mr=r=>{let e=class extends r{constructor(...t){super(...t);let s=_(this),i=s.store,o=new ae;s.store=o,xt(s,i,o)}read(t,s){Rt(this,t,s)}write(t,s){return Ct(this,t??{},s)}toJSON(t){return this.write({},t)}static fromJSON(t,s){return gr.call(this,t,s)}};return e=ce([P("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function gr(r,e){if(!r)return null;if(r.declaredClass)throw new Error("JSON object is already hydrated");let t=new this;return t.read(r,e),t}function Hi(r){return r&&typeof r=="object"&&"toJSON"in r&&typeof r.toJSON=="function"}var Ut=class extends mr(ne){};Ut=ce([P("esri.core.JSONSupport")],Ut);export{lt as a,yr as b,ut as c,As as d,Ss as e,ke as f,ee as g,m as h,re as i,l as j,Or as k,H as l,V as m,F as n,W as o,R as p,dt as q,Ir as r,Cr as s,Ht as t,Vt as u,Lr as v,jr as w,$t as x,Br as y,K as z,k as A,Kr as B,cs as C,ls as D,us as E,St as F,bs as G,or as H,ne as I,xt as J,Rt as K,Pi as L,Ti as M,Ct as N,mr as O,Hi as P,Ut as Q};
