import{h as ut}from"./chunk-6W2QD2QC.js";import{b as xe}from"./chunk-JSQOTIC2.js";import{a as ft,b as Me,c as we,d as dt}from"./chunk-4RT552LT.js";import{a as De}from"./chunk-5GLVNGM4.js";import{b as be}from"./chunk-KRYMUN3X.js";import{a as ge,h as ot,i as st,k as rt,l as ct,m as lt,n as at}from"./chunk-5HFNOX2L.js";import{a as he,b as me,c as pe}from"./chunk-U265OO5T.js";import{b as ve}from"./chunk-A2UYTBDN.js";import{a as it}from"./chunk-26IAOMPX.js";import{a as tt,b as nt}from"./chunk-BS6NG5JT.js";import{h as Ge,i as Qe,l as Ze,n as Je,q as se,v as et}from"./chunk-CGB2ZQ7H.js";import{a as ue}from"./chunk-T62VBPHF.js";import{a as Se,d as E,e as Xe,f as q,g as Ke,h as fe,i as qe,j as de}from"./chunk-FMFGIQYB.js";import{a as C,b as T,d as oe,h as A}from"./chunk-EAH6BNBL.js";var Ot=["top","right","bottom","left"],ht=["start","end"],mt=Ot.reduce((t,e)=>t.concat(e,e+"-"+ht[0],e+"-"+ht[1]),[]),ee=Math.min,G=Math.max,Ee=Math.round,ye=Math.floor,X=t=>({x:t,y:t}),Zt={left:"right",right:"left",bottom:"top",top:"bottom"},Jt={start:"end",end:"start"};function Be(t,e,n){return G(t,ee(e,n))}function Z(t,e){return typeof t=="function"?t(e):t}function V(t){return t.split("-")[0]}function _(t){return t.split("-")[1]}function Rt(t){return t==="x"?"y":"x"}function Fe(t){return t==="y"?"height":"width"}function Re(t){return["top","bottom"].includes(V(t))?"y":"x"}function Ie(t){return Rt(Re(t))}function kt(t,e,n){n===void 0&&(n=!1);let i=_(t),o=Ie(t),s=Fe(o),r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=Ce(r)),[r,Ce(r)]}function en(t){let e=Ce(t);return[Ae(t),e,Ae(e)]}function Ae(t){return t.replace(/start|end/g,e=>Jt[e])}function tn(t,e,n){let i=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?s:r;default:return[]}}function nn(t,e,n,i){let o=_(t),s=tn(V(t),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(Ae)))),s}function Ce(t){return t.replace(/left|right|bottom|top/g,e=>Zt[e])}function on(t){return C({top:0,right:0,bottom:0,left:0},t)}function St(t){return typeof t!="number"?on(t):{top:t,right:t,bottom:t,left:t}}function Pe(t){let{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function pt(t,e,n){let{reference:i,floating:o}=t,s=Re(e),r=Ie(e),l=Fe(r),c=V(e),a=s==="y",d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,g=i[l]/2-o[l]/2,f;switch(c){case"top":f={x:d,y:i.y-o.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-o.width,y:u};break;default:f={x:i.x,y:i.y}}switch(_(e)){case"start":f[r]-=g*(n&&a?-1:1);break;case"end":f[r]+=g*(n&&a?-1:1);break}return f}var sn=(t,e,n)=>A(void 0,null,function*(){let{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),c=yield r.isRTL==null?void 0:r.isRTL(e),a=yield r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=pt(a,i,c),g=i,f={},m=0;for(let h=0;h<l.length;h++){let{name:v,fn:p}=l[h],{x:b,y:w,data:x,reset:y}=yield p({x:d,y:u,initialPlacement:i,placement:g,strategy:o,middlewareData:f,rects:a,platform:r,elements:{reference:t,floating:e}});d=b??d,u=w??u,f=T(C({},f),{[v]:C(C({},f[v]),x)}),y&&m<=50&&(m++,typeof y=="object"&&(y.placement&&(g=y.placement),y.rects&&(a=y.rects===!0?yield r.getElementRects({reference:t,floating:e,strategy:o}):y.rects),{x:d,y:u}=pt(a,g,c)),h=-1)}return{x:d,y:u,placement:g,strategy:o,middlewareData:f}});function re(t,e){return A(this,null,function*(){var n;e===void 0&&(e={});let{x:i,y:o,platform:s,rects:r,elements:l,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:f=0}=Z(e,t),m=St(f),v=l[g?u==="floating"?"reference":"floating":u],p=Pe(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(v))==null||n?v:v.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:a,rootBoundary:d,strategy:c})),b=u==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,w=yield s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating),x=(yield s.isElement==null?void 0:s.isElement(w))?(yield s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},y=Pe(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(p.top-y.top+m.top)/x.y,bottom:(y.bottom-p.bottom+m.bottom)/x.y,left:(p.left-y.left+m.left)/x.x,right:(y.right-p.right+m.right)/x.x}})}var rn=t=>({name:"arrow",options:t,fn(n){return A(this,null,function*(){let{x:i,y:o,placement:s,rects:r,platform:l,elements:c,middlewareData:a}=n,{element:d,padding:u=0}=Z(t,n)||{};if(d==null)return{};let g=St(u),f={x:i,y:o},m=Ie(s),h=Fe(m),v=yield l.getDimensions(d),p=m==="y",b=p?"top":"left",w=p?"bottom":"right",x=p?"clientHeight":"clientWidth",y=r.reference[h]+r.reference[m]-f[m]-r.floating[h],R=f[m]-r.reference[m],M=yield l.getOffsetParent==null?void 0:l.getOffsetParent(d),P=M?M[x]:0;(!P||!(yield l.isElement==null?void 0:l.isElement(M)))&&(P=c.floating[x]||r.floating[h]);let B=y/2-R/2,F=P/2-v[h]/2-1,I=ee(g[b],F),O=ee(g[w],F),k=I,D=P-v[h]-O,L=P/2-v[h]/2+B,N=Be(k,L,D),$=!a.arrow&&_(s)!=null&&L!==N&&r.reference[h]/2-(L<k?I:O)-v[h]/2<0,z=$?L<k?L-k:L-D:0;return{[m]:f[m]+z,data:C({[m]:N,centerOffset:L-N-z},$&&{alignmentOffset:z}),reset:$}})}});function cn(t,e,n){return(t?[...n.filter(o=>_(o)===t),...n.filter(o=>_(o)!==t)]:n.filter(o=>V(o)===o)).filter(o=>t?_(o)===t||(e?Ae(o)!==o:!1):!0)}var ln=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,fn(n){return A(this,null,function*(){var i,o,s;let{rects:r,middlewareData:l,placement:c,platform:a,elements:d}=n,I=Z(t,n),{crossAxis:u=!1,alignment:g,allowedPlacements:f=mt,autoAlignment:m=!0}=I,h=oe(I,["crossAxis","alignment","allowedPlacements","autoAlignment"]),v=g!==void 0||f===mt?cn(g||null,m,f):f,p=yield re(n,h),b=((i=l.autoPlacement)==null?void 0:i.index)||0,w=v[b];if(w==null)return{};let x=kt(w,r,yield a.isRTL==null?void 0:a.isRTL(d.floating));if(c!==w)return{reset:{placement:v[0]}};let y=[p[V(w)],p[x[0]],p[x[1]]],R=[...((o=l.autoPlacement)==null?void 0:o.overflows)||[],{placement:w,overflows:y}],M=v[b+1];if(M)return{data:{index:b+1,overflows:R},reset:{placement:M}};let P=R.map(O=>{let k=_(O.placement);return[O.placement,k&&u?O.overflows.slice(0,2).reduce((D,L)=>D+L,0):O.overflows[0],O.overflows]}).sort((O,k)=>O[1]-k[1]),F=((s=P.filter(O=>O[2].slice(0,_(O[0])?2:3).every(k=>k<=0))[0])==null?void 0:s[0])||P[0][0];return F!==c?{data:{index:b+1,overflows:R},reset:{placement:F}}:{}})}}},an=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn(n){return A(this,null,function*(){var i,o;let{placement:s,middlewareData:r,rects:l,initialPlacement:c,platform:a,elements:d}=n,k=Z(t,n),{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0}=k,p=oe(k,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=r.arrow)!=null&&i.alignmentOffset)return{};let b=V(s),w=V(c)===c,x=yield a.isRTL==null?void 0:a.isRTL(d.floating),y=f||(w||!v?[Ce(c)]:en(c));!f&&h!=="none"&&y.push(...nn(c,v,h,x));let R=[c,...y],M=yield re(n,p),P=[],B=((o=r.flip)==null?void 0:o.overflows)||[];if(u&&P.push(M[b]),g){let D=kt(s,l,x);P.push(M[D[0]],M[D[1]])}if(B=[...B,{placement:s,overflows:P}],!P.every(D=>D<=0)){var F,I;let D=(((F=r.flip)==null?void 0:F.index)||0)+1,L=R[D];if(L)return{data:{index:D,overflows:B},reset:{placement:L}};let N=(I=B.filter($=>$.overflows[0]<=0).sort(($,z)=>$.overflows[1]-z.overflows[1])[0])==null?void 0:I.placement;if(!N)switch(m){case"bestFit":{var O;let $=(O=B.map(z=>[z.placement,z.overflows.filter(ie=>ie>0).reduce((ie,Qt)=>ie+Qt,0)]).sort((z,ie)=>z[1]-ie[1])[0])==null?void 0:O[0];$&&(N=$);break}case"initialPlacement":N=c;break}if(s!==N)return{reset:{placement:N}}}return{}})}}};function gt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vt(t){return Ot.some(e=>t[e]>=0)}var fn=function(t){return t===void 0&&(t={}),{name:"hide",options:t,fn(n){return A(this,null,function*(){let{rects:i}=n,r=Z(t,n),{strategy:o="referenceHidden"}=r,s=oe(r,["strategy"]);switch(o){case"referenceHidden":{let l=yield re(n,T(C({},s),{elementContext:"reference"})),c=gt(l,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:vt(c)}}}case"escaped":{let l=yield re(n,T(C({},s),{altBoundary:!0})),c=gt(l,i.floating);return{data:{escapedOffsets:c,escaped:vt(c)}}}default:return{}}})}}};function dn(t,e){return A(this,null,function*(){let{placement:n,platform:i,elements:o}=t,s=yield i.isRTL==null?void 0:i.isRTL(o.floating),r=V(n),l=_(n),c=Re(n)==="y",a=["left","top"].includes(r)?-1:1,d=s&&c?-1:1,u=Z(e,t),{mainAxis:g,crossAxis:f,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:C({mainAxis:0,crossAxis:0,alignmentAxis:null},u);return l&&typeof m=="number"&&(f=l==="end"?m*-1:m),c?{x:f*d,y:g*a}:{x:g*a,y:f*d}})}var un=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(n){return A(this,null,function*(){var i,o;let{x:s,y:r,placement:l,middlewareData:c}=n,a=yield dn(n,t);return l===((i=c.offset)==null?void 0:i.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:s+a.x,y:r+a.y,data:T(C({},a),{placement:l})}})}}},hn=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn(n){return A(this,null,function*(){let{x:i,y:o,placement:s}=n,p=Z(t,n),{mainAxis:r=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}}}=p,a=oe(p,["mainAxis","crossAxis","limiter"]),d={x:i,y:o},u=yield re(n,a),g=Re(V(s)),f=Rt(g),m=d[f],h=d[g];if(r){let b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=m+u[b],y=m-u[w];m=Be(x,m,y)}if(l){let b=g==="y"?"top":"left",w=g==="y"?"bottom":"right",x=h+u[b],y=h-u[w];h=Be(x,h,y)}let v=c.fn(T(C({},n),{[f]:m,[g]:h}));return T(C({},v),{data:{x:v.x-i,y:v.y-o}})})}}};function ne(t){return Mt(t)?(t.nodeName||"").toLowerCase():"#document"}function S(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Y(t){var e;return(e=(Mt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Mt(t){return t instanceof Node||t instanceof S(t).Node}function W(t){return t instanceof Element||t instanceof S(t).Element}function U(t){return t instanceof HTMLElement||t instanceof S(t).HTMLElement}function bt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof S(t).ShadowRoot}function ae(t){let{overflow:e,overflowX:n,overflowY:i,display:o}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function mn(t){return["table","td","th"].includes(ne(t))}function $e(t){let e=ze(),n=H(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function pn(t){let e=K(t);for(;U(e)&&!te(e);){if($e(e))return e;e=K(e)}return null}function ze(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function te(t){return["html","body","#document"].includes(ne(t))}function H(t){return S(t).getComputedStyle(t)}function ke(t){return W(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function K(t){if(ne(t)==="html")return t;let e=t.assignedSlot||t.parentNode||bt(t)&&t.host||Y(t);return bt(e)?e.host:e}function Dt(t){let e=K(t);return te(e)?t.ownerDocument?t.ownerDocument.body:t.body:U(e)&&ae(e)?e:Dt(e)}function ce(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);let o=Dt(t),s=o===((i=t.ownerDocument)==null?void 0:i.body),r=S(o);return s?e.concat(r,r.visualViewport||[],ae(o)?o:[],r.frameElement&&n?ce(r.frameElement):[]):e.concat(o,ce(o,[],n))}function Lt(t){let e=H(t),n=parseFloat(e.width)||0,i=parseFloat(e.height)||0,o=U(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,l=Ee(n)!==s||Ee(i)!==r;return l&&(n=s,i=r),{width:n,height:i,$:l}}function _e(t){return W(t)?t:t.contextElement}function J(t){let e=_e(t);if(!U(e))return X(1);let n=e.getBoundingClientRect(),{width:i,height:o,$:s}=Lt(e),r=(s?Ee(n.width):n.width)/i,l=(s?Ee(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}var gn=X(0);function Tt(t){let e=S(t);return!ze()||!e.visualViewport?gn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==S(t)?!1:e}function Q(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);let o=t.getBoundingClientRect(),s=_e(t),r=X(1);e&&(i?W(i)&&(r=J(i)):r=J(t));let l=vn(s,n,i)?Tt(s):X(0),c=(o.left+l.x)/r.x,a=(o.top+l.y)/r.y,d=o.width/r.x,u=o.height/r.y;if(s){let g=S(s),f=i&&W(i)?S(i):i,m=g,h=m.frameElement;for(;h&&i&&f!==m;){let v=J(h),p=h.getBoundingClientRect(),b=H(h),w=p.left+(h.clientLeft+parseFloat(b.paddingLeft))*v.x,x=p.top+(h.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,a*=v.y,d*=v.x,u*=v.y,c+=w,a+=x,m=S(h),h=m.frameElement}}return Pe({width:d,height:u,x:c,y:a})}var bn=[":popover-open",":modal"];function We(t){return bn.some(e=>{try{return t.matches(e)}catch{return!1}})}function wn(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t,s=o==="fixed",r=Y(i),l=e?We(e.floating):!1;if(i===r||l&&s)return n;let c={scrollLeft:0,scrollTop:0},a=X(1),d=X(0),u=U(i);if((u||!u&&!s)&&((ne(i)!=="body"||ae(r))&&(c=ke(i)),U(i))){let g=Q(i);a=J(i),d.x=g.x+i.clientLeft,d.y=g.y+i.clientTop}return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+d.x,y:n.y*a.y-c.scrollTop*a.y+d.y}}function xn(t){return Array.from(t.getClientRects())}function Bt(t){return Q(Y(t)).left+ke(t).scrollLeft}function yn(t){let e=Y(t),n=ke(t),i=t.ownerDocument.body,o=G(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=G(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight),r=-n.scrollLeft+Bt(t),l=-n.scrollTop;return H(i).direction==="rtl"&&(r+=G(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:l}}function En(t,e){let n=S(t),i=Y(t),o=n.visualViewport,s=i.clientWidth,r=i.clientHeight,l=0,c=0;if(o){s=o.width,r=o.height;let a=ze();(!a||a&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:r,x:l,y:c}}function An(t,e){let n=Q(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=U(t)?J(t):X(1),r=t.clientWidth*s.x,l=t.clientHeight*s.y,c=o*s.x,a=i*s.y;return{width:r,height:l,x:c,y:a}}function wt(t,e,n){let i;if(e==="viewport")i=En(t,n);else if(e==="document")i=yn(Y(t));else if(W(e))i=An(e,n);else{let o=Tt(t);i=T(C({},e),{x:e.x-o.x,y:e.y-o.y})}return Pe(i)}function Ht(t,e){let n=K(t);return n===e||!W(n)||te(n)?!1:H(n).position==="fixed"||Ht(n,e)}function Cn(t,e){let n=e.get(t);if(n)return n;let i=ce(t,[],!1).filter(l=>W(l)&&ne(l)!=="body"),o=null,s=H(t).position==="fixed",r=s?K(t):t;for(;W(r)&&!te(r);){let l=H(r),c=$e(r);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ae(r)&&!c&&Ht(t,r))?i=i.filter(d=>d!==r):o=l,r=K(r)}return e.set(t,i),i}function Pn(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t,r=[...n==="clippingAncestors"?We(e)?[]:Cn(e,this._c):[].concat(n),i],l=r[0],c=r.reduce((a,d)=>{let u=wt(e,d,o);return a.top=G(u.top,a.top),a.right=ee(u.right,a.right),a.bottom=ee(u.bottom,a.bottom),a.left=G(u.left,a.left),a},wt(e,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function On(t){let{width:e,height:n}=Lt(t);return{width:e,height:n}}function Rn(t,e,n){let i=U(e),o=Y(e),s=n==="fixed",r=Q(t,!0,s,e),l={scrollLeft:0,scrollTop:0},c=X(0);if(i||!i&&!s)if((ne(e)!=="body"||ae(o))&&(l=ke(e)),i){let u=Q(e,!0,s,e);c.x=u.x+e.clientLeft,c.y=u.y+e.clientTop}else o&&(c.x=Bt(o));let a=r.left+l.scrollLeft-c.x,d=r.top+l.scrollTop-c.y;return{x:a,y:d,width:r.width,height:r.height}}function Le(t){return H(t).position==="static"}function xt(t,e){return!U(t)||H(t).position==="fixed"?null:e?e(t):t.offsetParent}function Ft(t,e){let n=S(t);if(We(t))return n;if(!U(t)){let o=K(t);for(;o&&!te(o);){if(W(o)&&!Le(o))return o;o=K(o)}return n}let i=xt(t,e);for(;i&&mn(i)&&Le(i);)i=xt(i,e);return i&&te(i)&&Le(i)&&!$e(i)?n:i||pn(t)||n}var kn=function(t){return A(this,null,function*(){let e=this.getOffsetParent||Ft,n=this.getDimensions,i=yield n(t.floating);return{reference:Rn(t.reference,yield e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};function Sn(t){return H(t).direction==="rtl"}var He={convertOffsetParentRelativeRectToViewportRelativeRect:wn,getDocumentElement:Y,getClippingRect:Pn,getOffsetParent:Ft,getElementRects:kn,getClientRects:xn,getDimensions:On,getScale:J,isElement:W,isRTL:Sn};function Mn(t,e){let n=null,i,o=Y(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function r(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();let{left:a,top:d,width:u,height:g}=t.getBoundingClientRect();if(l||e(),!u||!g)return;let f=ye(d),m=ye(o.clientWidth-(a+u)),h=ye(o.clientHeight-(d+g)),v=ye(a),b={rootMargin:-f+"px "+-m+"px "+-h+"px "+-v+"px",threshold:G(0,ee(1,c))||1},w=!0;function x(y){let R=y[0].intersectionRatio;if(R!==c){if(!w)return r();R?r(!1,R):i=setTimeout(()=>{r(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(x,T(C({},b),{root:o.ownerDocument}))}catch{n=new IntersectionObserver(x,b)}n.observe(t)}return r(!0),s}function Dn(t,e,n,i){i===void 0&&(i={});let{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,a=_e(t),d=o||s?[...a?ce(a):[],...ce(e)]:[];d.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});let u=a&&l?Mn(a,n):null,g=-1,f=null;r&&(f=new ResizeObserver(p=>{let[b]=p;b&&b.target===a&&f&&(f.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),a&&!c&&f.observe(a),f.observe(e));let m,h=c?Q(t):null;c&&v();function v(){let p=Q(t);h&&(p.x!==h.x||p.y!==h.y||p.width!==h.width||p.height!==h.height)&&n(),h=p,m=requestAnimationFrame(v)}return n(),()=>{var p;d.forEach(b=>{o&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),u?.(),(p=f)==null||p.disconnect(),f=null,c&&cancelAnimationFrame(m)}}var Ln=un,Tn=ln,Bn=hn,yt=an,Hn=fn,Fn=rn,In=(t,e,n)=>{let i=new Map,o=C({platform:He},n),s=T(C({},o.platform),{_c:i});return sn(t,e,T(C({},o),{platform:s}))};function $n(t){return zn(t)}function Te(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function zn(t){for(let e=t;e;e=Te(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=Te(t);e;e=Te(e)){if(!(e instanceof Element))continue;let n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||e.tagName==="BODY"))return e}return null}(function(){if(Se.isBrowser){let e=He.getOffsetParent;He.getOffsetParent=n=>e(n,$n)}})();function Et(t){let e=window.devicePixelRatio||1;return Math.round(t*e)/e}var It=(u,g)=>A(void 0,[u,g],function*(t,{referenceEl:e,floatingEl:n,overlayPositioning:i="absolute",placement:o,flipDisabled:s,flipPlacements:r,offsetDistance:l,offsetSkidding:c,arrowEl:a,type:d}){if(!e||!n)return null;let{x:f,y:m,placement:h,strategy:v,middlewareData:p}=yield In(e,n,{strategy:i,placement:o==="auto"||o==="auto-start"||o==="auto-end"?void 0:Un(n,o),middleware:Wn({placement:o,flipDisabled:s,flipPlacements:r,offsetDistance:l,offsetSkidding:c,arrowEl:a,type:d})});if(a&&p.arrow){let{x:R,y:M}=p.arrow,P=h.split("-")[0],B=R!=null?"left":"top",F=Vn[P],I={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=P==="left"||P==="right"?"horizontal":"vertical"),Object.assign(a.style,T(C({},I),{[B]:`${B=="left"?R:M}px`,[P]:"100%",transform:F}))}let w=p.hide?.referenceHidden?"hidden":null,x=w?"none":null;n.setAttribute(_n,h);let{open:y}=t;Object.assign(n.style,{visibility:w,pointerEvents:x,position:v,transform:y?`translate(${Et(f)}px,${Et(m)}px)`:"",top:0,left:0})}),_n="data-placement",At=100,Ct=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"];var Ue={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Wn({placement:t,flipDisabled:e,flipPlacements:n,offsetDistance:i,offsetSkidding:o,arrowEl:s,type:r}){let l=[Bn(),Hn()];if(r==="menu")return[...l,yt({fallbackPlacements:n||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(r==="popover"||r==="tooltip"){let c=[...l,Ln({mainAxis:typeof i=="number"?i:0,crossAxis:typeof o=="number"?o:0})];return t==="auto"||t==="auto-start"||t==="auto-end"?c.push(Tn({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||c.push(yt(n?{fallbackPlacements:n}:{})),s&&c.push(Fn({element:s})),c}return[]}function $t(t,e){let n=t.filter(i=>Ct.includes(i));return n.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Ct.map(i=>`"${i}"`).join(", ").trim()}`,{el:e}),n}function Un(t,e){let n=["left","right"];return Ge(t)==="rtl"&&n.reverse(),e.replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}function zt(t,e,n=!1){return A(this,null,function*(){if(!t.open||!e.floatingEl||!e.referenceEl)return;if(!le.get(t))return _t(t,e.referenceEl,e.floatingEl);yield(n?Nn(t):It)(t,e)})}function Nn(t){let e=Oe.get(t);return e||(e=ut(It,At,{leading:!0,maxWait:At}),Oe.set(t,e),e)}var Vn={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},le=new WeakMap,Oe=new WeakMap;function _t(t,e,n){return A(this,null,function*(){if(!n.isConnected)return;let i=Se.isBrowser?Dn:(r,l,c)=>(c(),()=>{});le.set(t,{state:"pending"});let o,s=i(e,n,()=>{let r=t.reposition();o||(o=r)});return le.set(t,{state:"active",cleanUp:s}),o})}function Wt(t,e,n){return A(this,null,function*(){if(!(!n||!e)&&(Ne(t,e,n),Object.assign(n.style,{visibility:"hidden",pointerEvents:"none",position:t.overlayPositioning}),!!t.open))return _t(t,e,n)})}function Ne(t,e,n){if(!n||!e)return;let i=le.get(t);i?.state==="active"&&i.cleanUp(),le.delete(t),Oe.get(t)?.cancel(),Oe.delete(t)}var Pt=4,Ut=Math.ceil(Math.hypot(Pt,Pt));var Nt=(t,e)=>{let n=t.level?`h${t.level}`:"div";return delete t.level,E(n,C({},t),e)};var Vt={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},Yn={width:12,height:6,strokeWidth:1},Yt=({floatingLayout:t,key:e,ref:n})=>{let{width:i,height:o,strokeWidth:s}=Yn,r=i/2,l=t==="vertical",c=`M0,0 H${i} L${i-r},${o} Q${r},${o} ${r},${o} Z`;return E("svg",{"aria-hidden":"true",class:Vt.arrow,height:i,key:e,ref:n,viewBox:`0 0 ${i} ${i+(l?0:s)}`,width:i+(l?s:0)},s>0&&E("path",{class:Vt.arrowStroke,d:c,fill:"none","stroke-width":s+1}),E("path",{d:c,stroke:"none"}))};var Ve=class{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{let{registeredElements:n}=this,i=e.find(o=>n.has(o));return n.get(i)},this.togglePopovers=e=>{let n=e.composedPath(),i=this.queryPopover(n);i&&!i.triggerDisabled&&(i.open=!i.open),Array.from(this.registeredElements.values()).filter(o=>o!==i&&o.autoClose&&o.open&&!n.includes(o)).forEach(o=>o.open=!1)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"?this.closeAllPopovers():ge(e.key)&&this.togglePopovers(e))},this.clickHandler=e=>{et(e)||this.togglePopovers(e)}}registerElement(e,n){this.registeredElementCount++,this.registeredElements.set(e,n),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(e=>e.open=!1)}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}},j={container:"container",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},jn="auto",jt="aria-controls",Xt="aria-expanded",Xn=":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.arrow::before{outline:1px solid var(--calcite-color-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-color-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-color-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}",Kn=Xn,Kt=new Ve,qn=fe(class extends de{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=q(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=q(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=q(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=q(this,"calcitePopoverOpen",6),this.mutationObserver=it("mutation",()=>this.updateFocusTrapElements()),this.guid=`calcite-popover-${ue()}`,this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e},this.setFilteredPlacements=()=>{let{el:e,flipPlacements:n}=this;this.filteredFlipPlacements=n?$t(n,e):null},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),Wt(this,this.effectiveReferenceElement,this.el);let{el:n,referenceElement:i,effectiveReferenceElement:o}=this;e&&i&&!o&&console.warn(`${n.tagName}: reference-element id "${i}" was not found.`,{el:n}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{let{effectiveReferenceElement:e,open:n}=this;e&&"setAttribute"in e&&e.setAttribute(Xt,se(n))},this.addReferences=()=>{let{effectiveReferenceElement:e}=this;if(!e)return;let n=this.getId();"setAttribute"in e&&e.setAttribute(jt,n),Kt.registerElement(e,this.el),this.setExpandedAttr()},this.removeReferences=()=>{let{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(jt),e.removeAttribute(Xt)),Kt.unregisterElement(e))},this.hide=()=>{this.open=!1},this.storeArrowEl=e=>{this.arrowEl=e,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=Ut,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=jn,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(e){this.open&&(e?we(this):Me(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){De(this),this.reposition(!0),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){ct(this,this.effectiveLocale)}connectedCallback(){return A(this,null,function*(){this.setFilteredPlacements(),ot(this),lt(this),yield nt(this.el),this.setUpReferenceElement(),ft(this),this.open&&De(this)})}componentWillLoad(){return A(this,null,function*(){yield rt(this),he(this)})}componentDidLoad(){me(this)}disconnectedCallback(){this.removeReferences(),st(this),at(this),Ne(this,this.effectiveReferenceElement,this.el),we(this)}reposition(e=!1){return A(this,null,function*(){let{el:n,effectiveReferenceElement:i,placement:o,overlayPositioning:s,flipDisabled:r,filteredFlipPlacements:l,offsetDistance:c,offsetSkidding:a,arrowEl:d}=this;return zt(this,{floatingEl:n,referenceEl:i,overlayPositioning:s,placement:o,flipDisabled:r,flipPlacements:l,offsetDistance:c,offsetSkidding:a,arrowEl:d,type:"popover"},e)})}setFocus(){return A(this,null,function*(){yield pe(this),Ke(this.el),Je(this.el)})}updateFocusTrapElements(){return A(this,null,function*(){dt(this)})}getReferenceElement(){let{referenceElement:e,el:n}=this;return(typeof e=="string"?Qe(n,{id:e}):e)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),Me(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),we(this)}renderCloseButton(){let{messages:e,closable:n}=this;return n?E("div",{class:j.closeButtonContainer,key:j.closeButtonContainer},E("calcite-action",{appearance:"transparent",class:j.closeButton,onClick:this.hide,ref:i=>this.closeButtonEl=i,scale:this.scale,text:e.close},E("calcite-icon",{icon:"x",scale:tt(this.scale)}))):null}renderHeader(){let{heading:e,headingLevel:n}=this,i=e?E(Nt,{class:j.heading,level:n},e):null;return i?E("div",{class:j.header,key:j.header},i,this.renderCloseButton()):null}render(){let{effectiveReferenceElement:e,heading:n,label:i,open:o,pointerDisabled:s,floatingLayout:r}=this,l=e&&o,c=!l,a=s?null:E(Yt,{floatingLayout:r,key:"floating-arrow",ref:this.storeArrowEl});return E(Xe,{key:"e8506c9d3ebc8207a1f247c7b170223c490b1e60","aria-hidden":se(c),"aria-label":i,"aria-live":"polite","calcite-hydrated-hidden":c,id:this.getId(),role:"dialog"},E("div",{key:"ebf86df978ed5f949fccd65d7b20816b0ae1e444",class:{[Ue.animation]:!0,[Ue.animationActive]:l},ref:this.setTransitionEl},a,E("div",{key:"3470845888172fdf0e0c6fbe3b0f514ef1d0a231",class:{[j.hasHeader]:!!n,[j.container]:!0}},this.renderHeader(),E("div",{key:"7db1c2b89d88ba5641e232e7ef16e1f8edc00c7b",class:j.content},E("slot",{key:"f559c29d7b0d90140c05baed67e7c43b50b9a401"})),n?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Kn}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]},void 0,{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function Ye(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-popover":customElements.get(e)||customElements.define(e,qn);break;case"calcite-action":customElements.get(e)||xe();break;case"calcite-icon":customElements.get(e)||ve();break;case"calcite-loader":customElements.get(e)||be();break}})}Ye();function je(t,e){return(t+e)%e}var qt={menu:"menu",defaultTrigger:"default-trigger"},Gt={tooltip:"tooltip",trigger:"trigger"},Gn={menu:"ellipsis"},Qn="data-active",Zn=":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1);color:var(--calcite-color-text-2)}::slotted(calcite-action-group){border-block-end:1px solid var(--calcite-color-border-3)}::slotted(calcite-action-group:last-child){border-block-end:0}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}",Jn=Zn,ei=["ArrowUp","ArrowDown","End","Home"],ti=fe(class extends de{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=q(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${ue()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{let{menuButtonId:e,menuId:n,open:i,label:o}=this,s=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==s&&(this.disconnectMenuButtonEl(),this.menuButtonEl=s,this.setTooltipReferenceElement(),s&&(s.active=i,s.setAttribute("aria-controls",n),s.setAttribute("aria-expanded",se(i)),s.setAttribute("aria-haspopup","true"),s.id||(s.id=e),s.label||(s.label=o),s.text||(s.text=o),s.addEventListener("click",this.menuButtonClick),s.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{let{menuButtonEl:e}=this;e&&(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=e=>{let n=e.target.assignedElements({flatten:!0}).filter(i=>i?.matches("calcite-action"));this.slottedMenuButtonEl=n[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.updateTooltip=e=>{let n=e.target.assignedElements({flatten:!0}).filter(i=>i?.matches("calcite-tooltip"));this.tooltipEl=n[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{let{tooltipEl:e,expanded:n,menuButtonEl:i,open:o}=this;e&&(e.referenceElement=!n&&!o?i:null)},this.updateAction=(e,n)=>{let{guid:i,activeMenuItemIndex:o}=this,s=`${i}-action-${n}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=s),e.toggleAttribute(Qn,n===o)},this.updateActions=e=>{e?.forEach(this.updateAction)},this.handleDefaultSlotChange=e=>{let n=e.target.assignedElements({flatten:!0}).reduce((i,o)=>o?.matches("calcite-action")?(i.push(o),i):o?.matches("calcite-action-group")?i.concat(Array.from(o.querySelectorAll("calcite-action"))):i,[]);this.actionElements=n.filter(i=>!i.disabled&&!i.hidden)},this.menuButtonKeyDown=e=>{let{key:n}=e,{actionElements:i,activeMenuItemIndex:o,open:s}=this;if(i.length){if(ge(n)){if(e.preventDefault(),!s){this.toggleOpen();return}let r=i[o];r?r.click():this.toggleOpen(!1)}if(n==="Tab"){this.open=!1;return}if(n==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,n,i)}},this.handleActionNavigation=(e,n,i)=>{if(!this.isValidKey(n,ei))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(n==="Home"||n==="ArrowDown")&&(this.activeMenuItemIndex=0),(n==="End"||n==="ArrowUp")&&(this.activeMenuItemIndex=i.length-1);return}n==="Home"&&(this.activeMenuItemIndex=0),n==="End"&&(this.activeMenuItemIndex=i.length-1);let o=this.activeMenuItemIndex;n==="ArrowUp"&&(this.activeMenuItemIndex=je(Math.max(o-1,-1),i.length)),n==="ArrowDown"&&(this.activeMenuItemIndex=je(o+1,i.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e},this.handlePopoverOpen=()=>{this.open=!0},this.handlePopoverClose=()=>{this.open=!1},this.appearance="solid",this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}connectedCallback(){this.connectMenuButtonEl()}componentWillLoad(){he(this)}componentDidLoad(){me(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}setFocus(){return A(this,null,function*(){return yield pe(this),Ze(this.menuButtonEl)})}renderMenuButton(){let{appearance:e,label:n,scale:i,expanded:o}=this;return E("slot",{name:Gt.trigger,onSlotchange:this.setMenuButtonEl},E("calcite-action",{appearance:e,class:qt.defaultTrigger,icon:Gn.menu,ref:this.setDefaultMenuButtonEl,scale:i,text:n,textEnabled:o}))}renderMenuItems(){let{actionElements:e,activeMenuItemIndex:n,open:i,menuId:o,menuButtonEl:s,label:r,placement:l,overlayPositioning:c,flipPlacements:a}=this,u=e[n]?.id||null;return E("calcite-popover",{autoClose:!0,flipPlacements:a,focusTrapDisabled:!0,label:r,offsetDistance:0,onCalcitePopoverClose:this.handlePopoverClose,onCalcitePopoverOpen:this.handlePopoverOpen,open:i,overlayPositioning:c,placement:l,pointerDisabled:!0,referenceElement:s},E("div",{"aria-activedescendant":u,"aria-labelledby":s?.id,class:qt.menu,id:o,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},E("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return E(qe,{key:"2e60f0bcf41f683c77fe93d6f776fb1e9ff9f9a7"},this.renderMenuButton(),this.renderMenuItems(),E("slot",{key:"e9d8dac34c46653b17c012ab01ed2c7bea3938ba",name:Gt.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(e,n){return!!n.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return Jn}},[1,"calcite-action-menu",{appearance:[513],expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}]);function ni(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(e=>{switch(e){case"calcite-action-menu":customElements.get(e)||customElements.define(e,ti);break;case"calcite-action":customElements.get(e)||xe();break;case"calcite-icon":customElements.get(e)||ve();break;case"calcite-loader":customElements.get(e)||be();break;case"calcite-popover":customElements.get(e)||Ye();break}})}ni();export{Nt as a,Ye as b,Gt as c,ni as d};
