import{i as l,j as m}from"./chunk-MEW4DMBL.js";import"./chunk-RCVEJHJJ.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-M5FU6NQM.js";import"./chunk-IIXWADXJ.js";import{a as y,d as n,f as o,g as i}from"./chunk-TUJ6FPE6.js";import"./chunk-XFK3CDZ5.js";import"./chunk-4XBATNKX.js";import"./chunk-3IJY37BG.js";import"./chunk-F7PIPM6E.js";import"./chunk-FR6Q4MSQ.js";import"./chunk-C6JT6KYF.js";import"./chunk-BCREO4Q5.js";import"./chunk-6FWNINU2.js";import"./chunk-ES7AH7WX.js";import"./chunk-RSDQHAJX.js";import"./chunk-RJHITHLB.js";import"./chunk-IZZ2BWJH.js";import"./chunk-CGTLZX6D.js";import"./chunk-JTJ3UVF7.js";import"./chunk-R4TNLPIN.js";import"./chunk-5HLV7XP5.js";import"./chunk-UI76XBLJ.js";import"./chunk-UE2YGKE7.js";import"./chunk-BE76S5KT.js";import"./chunk-3RDV3O6N.js";import"./chunk-D2ITYHSM.js";import"./chunk-FIITBHDP.js";import"./chunk-VSVNPPHQ.js";import"./chunk-CTGIUUCS.js";import"./chunk-VWEBO6QK.js";import"./chunk-KAAR5ZJN.js";import"./chunk-W3WDPWBE.js";import"./chunk-WKT5W7KT.js";import"./chunk-MLSR6YE6.js";import"./chunk-JPDAKIWT.js";import"./chunk-X3IDZTNG.js";import"./chunk-IQJU4QT3.js";import{h as t}from"./chunk-EAH6BNBL.js";var c="Image Service",u="imagery-layer-save",g="imagery-layer-save-as",f="imagery-tile-layer-save",T="imagery-tile-layer-save-as";function p(a){if(a.type==="imagery")return{isValid:!0};let{raster:e}=a,r=e?.datasetFormat==="Function"?e.primaryRasters?.rasters[0]:e;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function v(a){let e=a.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function I(a,e){return t(this,null,function*(){let{parsedUrl:r,title:s,fullExtent:d}=a;e.url=r.path,e.title||=s;try{e.extent=yield o(d)}catch{e.extent=void 0}n(e,i.METADATA),a.type==="imagery-tile"&&y(e,i.TILED_IMAGERY)})}function w(a,e){return t(this,null,function*(){let r=a.type==="imagery"?u:f;return l({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:r},e)})}function E(a,e,r){return t(this,null,function*(){let s=a.type==="imagery"?g:T;return m({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:s,newItem:e,setItemProperties:I},r)})}export{w as save,E as saveAs};
