import{a as g,b as c,c as h,d as u,e as m,f as L}from"./chunk-BR6S5KCM.js";import{b as p}from"./chunk-DQ5TDMUL.js";import"./chunk-W5OI4BJ2.js";import"./chunk-2NH7HOKA.js";import"./chunk-XSMN6VN6.js";import"./chunk-BPP5MIUB.js";import"./chunk-I46GU3Q4.js";import"./chunk-H5IJXG2U.js";import"./chunk-TCQOV56D.js";import"./chunk-AWOMJTYJ.js";import"./chunk-2EA2KAER.js";import"./chunk-J57HR4DB.js";import"./chunk-Z5Q76SB7.js";import"./chunk-E5R4OI7X.js";import"./chunk-6FWNINU2.js";import"./chunk-ES7AH7WX.js";import"./chunk-RSDQHAJX.js";import"./chunk-IQJU4QT3.js";import{h as o}from"./chunk-EAH6BNBL.js";function i(t,e){return e.push(t.buffer),{buffer:t.buffer,layout:new p(t.layout)}}var y=class{extract(e){return o(this,null,function*(){let n=f(e),a=h(n),r=[n.data.buffer];return{result:w(a,r),transferList:r}})}extractComponentsEdgeLocations(e){return o(this,null,function*(){let n=f(e),a=u(n.data,n.skipDeduplicate,n.indices,n.indicesLength),r=c(a,D,I),s=[];return{result:i(r.regular.instancesData,s),transferList:s}})}extractEdgeLocations(e){return o(this,null,function*(){let n=f(e),a=u(n.data,n.skipDeduplicate,n.indices,n.indicesLength),r=c(a,x,I),s=[];return{result:i(r.regular.instancesData,s),transferList:s}})}};function f(t){return{data:g.createView(t.dataBuffer),indices:t.indicesType==="Uint32Array"?new Uint32Array(t.indices):t.indicesType==="Uint16Array"?new Uint16Array(t.indices):t.indices,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}function w(t,e){return e.push(t.regular.lodInfo.lengths.buffer),e.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:i(t.regular.instancesData,e),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:i(t.silhouette.instancesData,e),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}var l=class{allocate(e){return m.createBuffer(e)}trim(e,n){return e.slice(0,n)}write(e,n,a){e.position0.setVec(n,a.position0),e.position1.setVec(n,a.position1)}},d=class{allocate(e){return L.createBuffer(e)}trim(e,n){return e.slice(0,n)}write(e,n,a){e.position0.setVec(n,a.position0),e.position1.setVec(n,a.position1),e.componentIndex.set(n,a.componentIndex)}},x=new l,D=new d,I={allocate:()=>null,write:()=>{},trim:()=>null};export{y as default};
