import{i as l,j as m}from"./chunk-DZCEMJA3.js";import"./chunk-M4LRWBXK.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-VW4QBD5O.js";import"./chunk-QCG2T55M.js";import{a as y,d as n,f as o,g as i}from"./chunk-3NCGJLJJ.js";import"./chunk-7G4KK3KW.js";import"./chunk-J3ZDC5ZE.js";import"./chunk-KYNKUTEO.js";import"./chunk-QWLQUMDY.js";import"./chunk-MRVR6F6G.js";import"./chunk-WXQQZY3K.js";import"./chunk-VPMDQK57.js";import"./chunk-BCREO4Q5.js";import"./chunk-76YVRX2R.js";import"./chunk-OZF6BMOL.js";import"./chunk-GJP6PTKT.js";import"./chunk-RSDQHAJX.js";import"./chunk-SLMQFZE3.js";import"./chunk-FJDNRF2P.js";import"./chunk-VNB5ZT3P.js";import"./chunk-NDG5FXLR.js";import"./chunk-EJG3F6VR.js";import"./chunk-5ODCEDHC.js";import"./chunk-SA4OMQAD.js";import"./chunk-24BLFS5R.js";import"./chunk-JDDD6VJ4.js";import"./chunk-VOYK3LZF.js";import"./chunk-HOJTYTYD.js";import"./chunk-XNEAL2YW.js";import"./chunk-J7M5V2SQ.js";import"./chunk-RQD6EDD6.js";import"./chunk-XPCG2OJX.js";import"./chunk-AUTL5LCV.js";import"./chunk-KUJG22IX.js";import"./chunk-OVHPPCBL.js";import"./chunk-W3WDPWBE.js";import"./chunk-GISCFF3Z.js";import"./chunk-MLSR6YE6.js";import"./chunk-SNFOAZZQ.js";import"./chunk-CPDJJRWA.js";import"./chunk-HQMV3KQV.js";import"./chunk-CRMMDK2Z.js";import{h as t}from"./chunk-EAH6BNBL.js";var c="Image Service",u="imagery-layer-save",g="imagery-layer-save-as",f="imagery-tile-layer-save",T="imagery-tile-layer-save-as";function p(a){if(a.type==="imagery")return{isValid:!0};let{raster:e}=a,r=e?.datasetFormat==="Function"?e.primaryRasters?.rasters[0]:e;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function v(a){let e=a.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function I(a,e){return t(this,null,function*(){let{parsedUrl:r,title:s,fullExtent:d}=a;e.url=r.path,e.title||=s;try{e.extent=yield o(d)}catch{e.extent=void 0}n(e,i.METADATA),a.type==="imagery-tile"&&y(e,i.TILED_IMAGERY)})}function w(a,e){return t(this,null,function*(){let r=a.type==="imagery"?u:f;return l({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:r},e)})}function E(a,e,r){return t(this,null,function*(){let s=a.type==="imagery"?g:T;return m({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:s,newItem:e,setItemProperties:I},r)})}export{w as save,E as saveAs};
