import{a as J}from"./chunk-LNYBTIG7.js";import{c as H,e as c,g as I}from"./chunk-SJTQM4NH.js";import{a as _,c as z}from"./chunk-M2GLXRA2.js";import{p as G}from"./chunk-EBWCXIFH.js";import{a as p}from"./chunk-BCREO4Q5.js";import{a as P,m as T}from"./chunk-ZVHU7VE3.js";import{i as F,n as O}from"./chunk-76YVRX2R.js";import{a as l,b as M,c as v,d,e as u,l as g,m as B,n as w,o as L,p as X,s as S,t as C,u as h,v as Y,w as D}from"./chunk-OZF6BMOL.js";import{a as m,b as R}from"./chunk-GJP6PTKT.js";import{a as Z}from"./chunk-RSDQHAJX.js";function j(t){return t?K(R(t.origin),R(t.direction)):K(m(),m())}function K(t,o){return{origin:t,direction:o}}function Et(t,o){let n=st.get();return n.origin=t,n.direction=o,n}function Vt(t,o=j()){return it(t.origin,t.direction,o)}function Q(t,o,n=j()){return M(n.origin,t),u(n.direction,o,t),n}function it(t,o,n=j()){return M(n.origin,t),M(n.direction,o),n}function kt(t,o){let n=h(c.get(),S(c.get(),t.direction),u(c.get(),o,t.origin));return C(n,n)}function U(t,o,n){let r=C(t.direction,u(n,o,t.origin));return d(n,t.origin,g(n,t.direction,r)),n}var st=new J(()=>j()),Nt=m();var et=k();function k(){return _()}var at=T,ct=T;function W(t,o){return P(o,t)}function ut(t,o){return z(t[0],t[1],t[2],o)}function ft(t){return t}function mt(t){t[0]=t[1]=t[2]=t[3]=0}function gt(t,o){return t[0]=t[1]=t[2]=0,t[3]=o,t}function x(t){return t[3]}function lt(t){return t}function dt(t,o,n,r){return z(t,o,n,r)}function pt(t,o,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+o,n}function ht(t,o,n){return t!==n&&W(t,n),n}function y(t,o,n){if(o==null||!$(t,o,q))return!1;let{t0:r,t1:i}=q;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){let{origin:s,direction:e}=o;n[0]=s[0]+e[0]*r,n[1]=s[1]+e[1]*r,n[2]=s[2]+e[2]*r}return!0}function bt(t,o,n){let r=Q(o,n);if(!$(t,r,q))return[];let{origin:i,direction:s}=r,{t0:e,t1:a}=q,f=b=>{let A=m();return B(A,i,s,b),N(t,A,A)};return Math.abs(e-a)<Z()?[f(e)]:[f(e),f(a)]}var q={t0:0,t1:0};function $(t,o,n){let{origin:r,direction:i}=o,s=Mt;s[0]=r[0]-t[0],s[1]=r[1]-t[1],s[2]=r[2]-t[2];let e=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(e===0)return!1;let a=2*(i[0]*s[0]+i[1]*s[1]+i[2]*s[2]),f=a*a-4*e*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(f<0)return!1;let b=Math.sqrt(f);return n.t0=(-a-b)/(2*e),n.t1=(-a+b)/(2*e),!0}var Mt=m();function St(t,o){return y(t,o,null)}function Pt(t,o,n){if(y(t,o,n))return n;let r=tt(t,o,c.get());return d(n,o.origin,g(c.get(),o.direction,w(o.origin,r)/l(o.direction))),n}function tt(t,o,n){let r=c.get(),i=I.get();h(r,o.origin,o.direction);let s=x(t);h(n,r,o.origin),g(n,n,1/l(n)*s);let e=nt(t,o.origin),a=H(o.origin,n);return G(i,a+e,r),D(n,n,i),n}function jt(t,o,n){return y(t,o,n)?n:(U(o,t,n),N(t,n,n))}function N(t,o,n){let r=u(c.get(),o,t),i=g(c.get(),r,t[3]/l(r));return d(n,i,t)}function qt(t,o){let n=u(c.get(),o,t),r=X(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))}function nt(t,o){let n=u(c.get(),o,t),r=l(n),i=x(t),s=i+Math.abs(i-r);return F(i/s)}var E=m();function ot(t,o,n,r){let i=u(E,o,t);switch(n){case p.X:{let s=O(i,E)[2];return v(r,-Math.sin(s),Math.cos(s),0)}case p.Y:{let s=O(i,E),e=s[1],a=s[2],f=Math.sin(e);return v(r,-f*Math.cos(a),-f*Math.sin(a),Math.cos(e))}case p.Z:return S(r,i);default:return}}function rt(t,o){let n=u(V,o,t);return l(n)-t[3]}function xt(t,o,n,r){let i=rt(t,o),s=ot(t,o,p.Z,V),e=g(V,s,n-i);return d(r,o,e)}function yt(t,o){let n=L(t,o),r=x(t);return n<=r*r}function At(t,o,n=_()){let r=w(t,o),i=t[3],s=o[3];return r+s<i?(P(n,t),n):r+i<s?(P(n,o),n):(Y(n,t,o,(r+s-i)/(2*r)),n[3]=(r+i+s)/2,n)}var V=m(),Rt=k(),Wt=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:et,altitudeAt:rt,angleToSilhouette:nt,axisAt:ot,clear:mt,closestPoint:jt,closestPointOnSilhouette:tt,containsPoint:yt,copy:W,create:k,distanceToSilhouette:qt,elevate:pt,equals:ct,exactEquals:at,fromCenterAndRadius:ut,fromRadius:gt,fromValues:dt,getCenter:lt,getRadius:x,intersectLine:bt,intersectRay:y,intersectRayClosestSilhouette:Pt,intersectsRay:St,projectPoint:N,setAltitudeAt:xt,setExtent:ht,tmpSphere:Rt,union:At,wrap:ft},Symbol.toStringTag,{value:"Module"}));export{j as a,Et as b,Vt as c,Q as d,kt as e,et as f,k as g,at as h,W as i,ut as j,x as k,dt as l,bt as m,St as n,N as o,yt as p};
