import{a as n}from"./chunk-R2Q5NMSG.js";import{a as h,b as f}from"./chunk-G24ZJINL.js";import{a as c,b as i}from"./chunk-SF6Z2K5H.js";import{L as m}from"./chunk-AUTL5LCV.js";import{S as s,z as a}from"./chunk-KUJG22IX.js";import{a as r}from"./chunk-W3WDPWBE.js";var o=class extends i{constructor(e){super(e),this.addHandles([this.on("before-add",t=>{t.item==null&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(let e of this.items)this._own(e)}_releaseAll(){for(let e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(i.ofType(this.itemType.Type))(e):new i(e)}};function x(e,t){return{type:e,cast:f,set(w){let p=h(w,this._get(t),e);p.owner=this,this._set(t,p)}}}r([m()],o.prototype,"owner",null),o=r([s("esri.core.support.OwningCollection")],o);var l=class extends o{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};r([c({Type:n,ensureType:a(n)})],l.prototype,"itemType",void 0),l=r([s("esri.support.GraphicsCollection")],l);export{o as a,x as b,l as c};
