import{a as _}from"./chunk-54L5YVUN.js";import{a as b}from"./chunk-4IEDHBGZ.js";import{c as v}from"./chunk-SFX6QP6J.js";import"./chunk-BRJSO7CG.js";import"./chunk-AATZFFI5.js";import{a as C}from"./chunk-YNG4NJVY.js";import{a as E}from"./chunk-XXKODND4.js";import{e as w,f as L,l as k}from"./chunk-ANMWMD52.js";import{a as g}from"./chunk-IGVG5UOD.js";import{a as F}from"./chunk-M3S3XZ6A.js";import"./chunk-IY6MAS3P.js";import{v as R}from"./chunk-HRVSZ5C7.js";import"./chunk-WR6DOBQL.js";import"./chunk-UWZJQ7YC.js";import{f as a,i as G,k as x,m as P}from"./chunk-HKSYSHBE.js";import"./chunk-UJ6V7JUK.js";import"./chunk-UAZOXZEX.js";import"./chunk-VXEE6WER.js";import"./chunk-L6VKPRBR.js";import"./chunk-E2G5DGVE.js";import"./chunk-CP4KE5S6.js";import"./chunk-VXJKEPDS.js";import"./chunk-TX7DVQYF.js";import"./chunk-IISBSAYJ.js";import"./chunk-2TKJWM7A.js";import"./chunk-PRVSRJH5.js";import"./chunk-QWLQUMDY.js";import"./chunk-4XUOIGFO.js";import"./chunk-7LEG2VDW.js";import"./chunk-R2HWUZ3L.js";import"./chunk-G24ZJINL.js";import"./chunk-4VLU4EXW.js";import"./chunk-ORM3VHG6.js";import"./chunk-7W3VFAAZ.js";import"./chunk-AM3VOA32.js";import"./chunk-SAOUSUZE.js";import"./chunk-FVDACA4R.js";import"./chunk-UIR6P2R4.js";import"./chunk-4HISZWR4.js";import"./chunk-SJW4NR3T.js";import"./chunk-TQAPQODA.js";import"./chunk-EBWCXIFH.js";import"./chunk-M76YZBV5.js";import"./chunk-HXQMOXFX.js";import"./chunk-BKKKVIAS.js";import"./chunk-BCREO4Q5.js";import"./chunk-76YVRX2R.js";import"./chunk-OZF6BMOL.js";import"./chunk-GJP6PTKT.js";import"./chunk-RSDQHAJX.js";import"./chunk-W47PGZ3Y.js";import"./chunk-2OT2C2UU.js";import"./chunk-XIMCHX2H.js";import"./chunk-SF6Z2K5H.js";import"./chunk-GBTN5LIS.js";import"./chunk-JOSG37QF.js";import"./chunk-SLMQFZE3.js";import"./chunk-7ZFQD2OK.js";import"./chunk-46V3IHDS.js";import"./chunk-NDG5FXLR.js";import"./chunk-V477EWXM.js";import"./chunk-5ODCEDHC.js";import"./chunk-BENVXA3L.js";import{a as c,v as S}from"./chunk-2KZICFRS.js";import"./chunk-D2RUV6O4.js";import{q as h}from"./chunk-4JWMB5SM.js";import"./chunk-VOYK3LZF.js";import"./chunk-HOJTYTYD.js";import"./chunk-XNEAL2YW.js";import"./chunk-J7M5V2SQ.js";import"./chunk-HRFJUMCP.js";import{I as d,aa as f}from"./chunk-375OYO4P.js";import{L as o}from"./chunk-AUTL5LCV.js";import{S as u}from"./chunk-KUJG22IX.js";import"./chunk-OVHPPCBL.js";import{a as r}from"./chunk-W3WDPWBE.js";import{n as y}from"./chunk-GISCFF3Z.js";import"./chunk-MLSR6YE6.js";import"./chunk-SNFOAZZQ.js";import"./chunk-CPDJJRWA.js";import"./chunk-VU5W7W6Y.js";import{k as m}from"./chunk-HQMV3KQV.js";import"./chunk-CRMMDK2Z.js";import{a as p,h as n}from"./chunk-EAH6BNBL.js";var j=["atom","xml"],M={base:a,key:"type",typeMap:{"simple-line":G},errorContext:"symbol"},O={base:a,key:"type",typeMap:{"picture-marker":R,"simple-marker":P},errorContext:"symbol"},T={base:a,key:"type",typeMap:{"simple-fill":x},errorContext:"symbol"},t=class extends v(b(E(_(C(g(F)))))){constructor(...e){super(...e),this.description=null,this.fullExtent=null,this.legendEnabled=!0,this.lineSymbol=null,this.pointSymbol=null,this.polygonSymbol=null,this.operationalLayerType="GeoRSS",this.url=null,this.type="geo-rss"}normalizeCtorArgs(e,i){return typeof e=="string"?p({url:e},i):e}readFeatureCollections(e,i){return i.featureCollection.layers.forEach(s=>{let l=s.layerDefinition.drawingInfo.renderer.symbol;l&&l.type==="esriSFS"&&l.outline?.style.includes("esriSFS")&&(l.outline.style="esriSLSSolid")}),i.featureCollection.layers}get hasPoints(){return this._hasGeometry("esriGeometryPoint")}get hasPolylines(){return this._hasGeometry("esriGeometryPolyline")}get hasPolygons(){return this._hasGeometry("esriGeometryPolygon")}get title(){let e=this._get("title");return e&&this.originOf("title")!=="defaults"?e:this.url?d(this.url,j)||"GeoRSS":e}set title(e){this._set("title",e)}load(e){let i=e!=null?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},e).catch(y).then(()=>this._fetchService(i)).then(s=>{this.read(s,{origin:"service"})})),Promise.resolve(this)}hasDataChanged(){return n(this,null,function*(){let e=yield this._fetchService();return this.read(e,{origin:"service",ignoreDefaults:!0}),!0})}_fetchService(e){return n(this,null,function*(){let i=this.spatialReference,{data:s}=yield f(m.geoRSSServiceUrl,{query:{url:this.url,refresh:!!this.loaded||void 0,outSR:h(i)?void 0:i.wkid??JSON.stringify(i)},signal:e});return s})}_hasGeometry(e){return this.featureCollections?.some(i=>i.featureSet?.geometryType===e&&i.featureSet.features?.length>0)??!1}};r([o()],t.prototype,"description",void 0),r([o()],t.prototype,"featureCollections",void 0),r([c("service","featureCollections",["featureCollection.layers"])],t.prototype,"readFeatureCollections",null),r([o({type:S,json:{name:"lookAtExtent"}})],t.prototype,"fullExtent",void 0),r([o(k)],t.prototype,"id",void 0),r([o(L)],t.prototype,"legendEnabled",void 0),r([o({types:M,json:{write:!0}})],t.prototype,"lineSymbol",void 0),r([o({type:["show","hide"]})],t.prototype,"listMode",void 0),r([o({types:O,json:{write:!0}})],t.prototype,"pointSymbol",void 0),r([o({types:T,json:{write:!0}})],t.prototype,"polygonSymbol",void 0),r([o({type:["GeoRSS"]})],t.prototype,"operationalLayerType",void 0),r([o(w)],t.prototype,"url",void 0),r([o({json:{origins:{service:{read:{source:"name",reader:e=>e||void 0}}}}})],t.prototype,"title",null),r([o({readOnly:!0,json:{read:!1},value:"geo-rss"})],t.prototype,"type",void 0),t=r([u("esri.layers.GeoRSSLayer")],t);var pe=t;export{pe as default};
