import{b as it}from"./chunk-WKT5W7KT.js";import{b as T,i as d,p as h,q as ot,r as st}from"./chunk-X3IDZTNG.js";import{k as rt,l as z,n as nt}from"./chunk-IQJU4QT3.js";import{a as et}from"./chunk-EAH6BNBL.js";function ct(t){return t.__accessor__??null}function Te(t,e){return t?.metadata?.[e]!=null}function lt(t,e,r){return r?O(t,e,{policy:r,path:""}):O(t,e,null)}function O(t,e,r){return e?Object.keys(e).reduce((n,o)=>{let s=o,c=null,i="merge";if(r&&(c=r.path?`${r.path}.${o}`:o,i=r.policy(c)),i==="replace"||i==="replace-arrays"&&Array.isArray(n[s]))return n[s]=e[s],n;if(n[s]===void 0)return n[s]=T(e[s]),n;let a=n[s],l=e[s];if(a===l)return n;if(Array.isArray(l)||Array.isArray(n))a=a?Array.isArray(a)?n[s]=a.concat():n[s]=[a]:n[s]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(u=>{a.includes(u)||a.push(u)}));else if(l&&typeof l=="object")if(r){let u=r.path;r.path=c,n[s]=O(a,l,r),r.path=u}else n[s]=O(a,l,null);else n.hasOwnProperty(o)&&!e.hasOwnProperty(o)||(n[s]=l);return n},t||{}):t}function ut(t){return Array.isArray(t)?t:t.split(".")}function at(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function zt(t){if(Array.isArray(t)){let e=[];for(let r of t)e.push(...at(r));return e}return at(t)}function Oe(t,e,r,n){let o=zt(e);if(o.length!==1){let s=o.map(c=>n(t,c,r));return it(s)}return n(t,o[0],r)}function It(t){return t?.release&&typeof t.release=="function"}function Ft(t){return t?.acquire&&typeof t.acquire=="function"}var Se=(()=>{class t{constructor(r,n,o,s=1,c=0){if(this._ctor=r,this._acquireFunction=n,this._releaseFunction=o,this.allocationSize=s,this._pool=new Array(c),this._initialSize=c,this._ctor)for(let i=0;i<c;i++)this._pool[i]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...r){let n;if(t.test.disabled)n=new this._ctor;else{if(this._pool.length===0){let o=this.allocationSize;for(let s=0;s<o;s++)this._pool[s]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...r):Ft(n)&&n.acquire(...r),n}release(r){r&&!t.test.disabled&&(this._releaseFunction?this._releaseFunction(r):It(r)&&r.release(),this._pool.push(r))}prune(r=this._initialSize){if(!(r>=this._pool.length)){for(let n=r;n<this._pool.length;++n){let o=this._pool[n];this._dispose(o)}this._pool.length=r}}_dispose(r){r.dispose&&typeof r.dispose=="function"&&r.dispose()}}return t.test={disabled:!1},t})();var y;(function(t){t[t.Dirty=1]="Dirty",t[t.Overridden=2]="Overridden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"})(y||(y={}));var x={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},_=[],w=x;function I(t){w.onObservableAccessed(t)}var k=!1,S=!1;function Ut(t,e,r){if(k)return F(t,e,r);pt(t);let n=e.call(r);return ht(),n}function $e(t,e){return Ut(x,t,e)}function F(t,e,r){let n=k;k=!0,pt(t);let o=null;try{o=e.call(r)}catch(s){S&&h.getLogger("esri.core.accessorSupport.tracking").error(s)}return ht(),k=n,o}function pt(t){w=t,_.push(t)}function ht(){let t=_.length;if(t>1){let e=_.pop();w=_[t-2],e.onTrackingEnd()}else if(t===1){let e=_.pop();w=x,e.onTrackingEnd()}else w=x}function Lt(t,e){if(e.flags&y.DepTrackingInitialized)return;let r=S;S=!1,e.flags&y.AutoTracked?F(e,e.metadata.get,t):qt(t,e),S=r}var Vt=[];function qt(t,e){e.flags&y.ExplicitlyTracking||(e.flags|=y.ExplicitlyTracking,F(e,()=>{let r=e.metadata.dependsOn||Vt;for(let n of r)if(typeof n!="string"||n.includes(".")){let o=ut(n);for(let s=0,c=t;s<o.length&&c!=null&&typeof c=="object";++s)c=ft(c,o[s],s!==o.length-1)}else ft(t,n,!1)}),e.flags&=~y.ExplicitlyTracking)}function ft(t,e,r){let n=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){let s=parseInt(n,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}let o=ct(t);if(o){let s=o.propertiesByName.get(n);s&&(I(s),Lt(t,s))}return r?t[n]:void 0}var N=[];function ze(t){N.push(t),N.length===1&&queueMicrotask(()=>{let e=N.slice();N.length=0;for(let r of e)r()})}function Fe(t,e){for(let[r,n]of t)if(e(n,r))return!0;return!1}function yt(t,e,r){let n=t.get(e);if(n!==void 0)return n;let o=r();return t.set(e,o),o}function Ue(t){let e=new Map;return r=>(e.has(r)||e.set(r,t(r)),e.get(r))}var g=()=>h.getLogger("esri.core.accessorSupport.ensureTypes");function Rt(t){return t==null?t:new Date(t)}function Bt(t){return t==null?t:!!t}function Jt(t){return t==null?t:t.toString()}function Gt(t){return t==null?t:(t=parseFloat(t),isNaN(t)?0:t)}function Ht(t){return t==null?t:Math.round(parseFloat(t))}function gt(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function M(t,e){return e!=null&&t&&!(e instanceof t)}function mt(t){return t&&"isCollection"in t}function dt(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function Kt(t,e){if(!e?.constructor||!mt(e.constructor))return U(t,e)?e:new t(e);let r=dt(t.prototype.itemType),n=dt(e.constructor.prototype.itemType);return r?n?r===n?e:r.prototype.isPrototypeOf(n.prototype)?new t(e):(U(t,e),e):new t(e):e}function U(t,e){return!!gt(e)&&(g().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+C(t)+"'"),!0)}function Wt(t,e){return e==null?e:mt(t)?Kt(t,e):M(t,e)?U(t,e)?e:new t(e):e}function C(t){return t?.prototype?.declaredClass||"unknown"}var Xt=new WeakMap;function Yt(t){switch(t){case Number:return Gt;case v:return Ht;case Boolean:return Bt;case String:return Jt;case Date:return Rt;default:return yt(Xt,t,()=>Wt.bind(null,t))}}function m(t,e){let r=Yt(t);return arguments.length===1?r:r(e)}function P(t,e,r){return arguments.length===1?P.bind(null,t):e&&(Array.isArray(e)?e.map(n=>t(n,r)):[t(e,r)])}function Be(t,e){return arguments.length===1?P(r=>m(t,r)):P(r=>m(t,r),e)}function bt(t,e,r){return e!==0&&Array.isArray(r)?r.map(n=>bt(t,e-1,n)):t(r)}function L(t,e,r){if(arguments.length===2)return s=>L(t,e,s);if(!r)return r;r=bt(t,e,r);let n=e,o=r;for(;n>0&&Array.isArray(o);)n--,o=o[0];if(o!==void 0)for(let s=0;s<n;s++)r=[r];return r}function Je(t,e,r){return arguments.length===2?L(n=>m(t,n),e):L(n=>m(t,n),e,r)}function _t(t){return!!Array.isArray(t)&&!t.some(e=>{let r=typeof e;return!(r==="string"||r==="number"||r==="function"&&t.length>1)})}function Zt(t,e){if(arguments.length===2)return Zt(t).call(null,e);let r=new Set,n=t.filter(i=>typeof i!="function"),o=t.filter(i=>typeof i=="function");for(let i of t)typeof i!="string"&&typeof i!="number"||r.add(i);let s=null,c=null;return(i,a)=>{if(i==null)return i;let l=typeof i,u=l==="string"||l==="number";return u&&(r.has(i)||o.some(f=>l==="string"&&f===String||l==="number"&&f===Number))||l==="object"&&o.some(f=>!M(i,f))?i:(u&&n.length?(s||(s=n.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),g().error("Accessor#set",`'${i}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof i=="object"&&o.length?(c||(c=o.map(f=>C(f)).join(", ")),g().error("Accessor#set",`'${i}' is not a valid value for this property, value must be one of ${c}`)):g().error("Accessor#set",`'${i}' is not a valid value for this property`),a&&(a.valid=!1),null)}}function Qt(t,e){if(arguments.length===2)return Qt(t).call(null,e);let r={},n=[],o=[];for(let a in t.typeMap){let l=t.typeMap[a];r[a]=m(l),n.push(C(l)),o.push(a)}let s=()=>`'${n.join("', '")}'`,c=()=>`'${o.join("', '")}'`,i=typeof t.key=="string"?a=>a[t.key]:t.key;return a=>{if(t.base&&!M(t.base,a)||a==null)return a;let l=i(a)||t.defaultKeyValue,u=r[l];if(!u)return g().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${c()})`),null;if(!M(t.typeMap[l],a))return a;if(typeof t.key=="string"&&!gt(a)){let f={};for(let p in a)p!==t.key&&(f[p]=a[p]);return u(f)}return u(a)}}var v=class{},Ge={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function He(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function te(t){switch(t.type){case"native":return m(t.value);case"array":return P(te(t.value));case"one-of":return ee(t);default:return null}}function ee(t){let e=null;return(r,n)=>q(r,t)?r:(e==null&&(e=V(t)),g().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),n&&(n.valid=!1),null)}function V(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case v:return"integer";case Date:return"date";default:return C(t.value)}case"array":return`array of ${V(t.value)}`;case"one-of":{let e=t.values.map(r=>V(r));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function q(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case v:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string"}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(r=>!q(r,e.value));case"one-of":return e.values.some(r=>q(t,r))}}var A=class extends ot{constructor(e,r,n){super(e,r,n)}};A.prototype.type="warning";var wt=Symbol("Accessor-beforeDestroy");var D;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED",t[t.DESTROYED=3]="DESTROYED"})(D||(D={}));function b(t){let e=t.constructor.__accessorMetadata__,r=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!r){e=Object.create(e);for(let n in e)e[n]=T(e[n]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function er(t,e){let r=b(t),n=r[e];return n||(n=r[e]={}),n}function rr(t,e){return lt(t,e,ne)}var re=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function ne(t){return re.test(t)?"replace":"merge"}function vt(t){if(t.json&&t.json.origins){let e=t.json.origins,r={"web-document":["web-scene","web-map"]};for(let n in r)if(e[n]){let o=e[n];r[n].forEach(s=>{e[s]=o}),delete e[n]}}}function $(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}var R=()=>h.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function B(t,e,r){t&&(!r&&!e.read||e.read?.reader||e.read?.enabled===!1||ae(t)&&d("read.reader",oe(t),e))}function oe(t){let e=t.ndimArray??0;if(e>1)return ie(t);if(e===1)return At(t);if("type"in t&&Tt(t.type)){let r=t.type.prototype?.itemType?.Type,n=At(typeof r=="function"?{type:r}:{types:r});return(o,s,c)=>{let i=n(o,s,c);return i&&new t.type(i)}}return J(t)}function J(t){return"type"in t?se(t.type):ce(t.types)}function se(t){return t.prototype.read?(e,r,n)=>{if(e==null)return e;let o=typeof e;if(o!=="object")return void R().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${o}'`);let s=new t;return s.read(e,n),s}:t.fromJSON}function jt(t,e,r,n){return n!==0&&Array.isArray(e)?e.map(o=>jt(t,o,r,n-1)):t(e,void 0,r)}function ie(t){let e=J(t),r=jt.bind(null,e),n=t.ndimArray??0;return(o,s,c)=>{if(o==null)return o;o=r(o,c,n);let i=n,a=o;for(;i>0&&Array.isArray(a);)i--,a=a[0];if(a!==void 0)for(let l=0;l<i;l++)o=[o];return o}}function At(t){let e=J(t);return(r,n,o)=>{if(r==null)return r;if(Array.isArray(r)){let c=[];for(let i of r){let a=e(i,void 0,o);a!==void 0&&c.push(a)}return c}let s=e(r,void 0,o);return s!==void 0?[s]:void 0}}function Tt(t){if(!$(t))return!1;let e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?G(e.Type):Ot(e.Type))}function ae(t){return"types"in t?Ot(t.types):G(t.type)}function G(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||Tt(t))}function Ot(t){for(let e in t.typeMap)if(!G(t.typeMap[e]))return!1;return!0}function ce(t){let e=null,r=t.errorContext??"type",n=t.validate;return(o,s,c)=>{if(o==null)return o;let i=typeof o;if(i!=="object")return void R().error(`Expected JSON value of type 'object' to deserialize, but got '${i}'`);e||(e=le(t));let a=t.key;if(typeof a!="string")return;let l=o[a],u=l?e[l]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!u){let p=`Type '${l||"unknown"}' is not supported`;return c?.messages&&o&&c.messages.push(new A(`${r}:unsupported`,p,{definition:o,context:c})),void R().error(p)}let f=new u;return f.read(o,c),n?n(f):f}}function le(t){let e={};for(let r in t.typeMap){let n=t.typeMap[r],o=b(n.prototype);if(typeof t.key=="function")continue;let s=o[t.key];if(!s)continue;s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"&&(e[s.json.type[0]]=n);let c=s.json?.write;if(!c?.writer){e[r]=n;continue}let i=c.target,a=typeof i=="string"?i:t.key,l={};c.writer(r,l,a),l[a]&&(e[l[a]]=n)}return e}function Nt(t){if(t.json||(t.json={}),St(t.json),xt(t.json),kt(t.json),t.json.origins)for(let e in t.json.origins)St(t.json.origins[e]),xt(t.json.origins[e]),kt(t.json.origins[e]);return!0}function kt(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function St(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function xt(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function H(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;let r=t?.ndimArray??0;t&&(r===1||"type"in t&&$(t.type))?e.write.writer=he:r>1?e.write.writer=ye(r):e.types?Array.isArray(e.types)?e.write.writer=fe(e.types[0]):e.write.writer=ue(e.types):e.write.writer=j}function ue(t){return(e,r,n,o)=>e?Mt(e,t,o)?j(e,r,n,o):void 0:j(e,r,n,o)}function Mt(t,e,r){for(let n in e.typeMap)if(t instanceof e.typeMap[n])return!0;if(r?.messages){let n=e.errorContext??"type",o=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&t&&r.messages.push(new st(`${n}:unsupported`,o,{definition:t,context:r})),h.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(o)}return!1}function fe(t){return(e,r,n,o)=>!e||!Array.isArray(e)?j(e,r,n,o):j(e.filter(s=>Mt(s,t,o)),r,n,o)}function j(t,e,r,n){d(r,E(t,n),e)}function E(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?pe(t):t}function pe(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function he(t,e,r,n){let o;t===null?o=null:t&&typeof t.map=="function"?(o=t.map(s=>E(s,n)),typeof o.toArray=="function"&&(o=o.toArray())):o=[E(t,n)],d(r,o,e)}function Pt(t,e,r){return r!==0&&Array.isArray(t)?t.map(n=>Pt(n,e,r-1)):E(t,e)}function ye(t){return(e,r,n,o)=>{let s;if(e===null)s=null;else{s=Pt(e,o,t);let c=t,i=s;for(;c>0&&Array.isArray(i);)c--,i=i[0];if(i!==void 0)for(let a=0;a<c;a++)s=[s]}d(n,s,r)}}function jr(t,e){return W(t,"any",e?.origin)}function Tr(t,e){return W(t,"read",e?.origin)}function Or(t,e){return W(t,"write",e?.origin)}function W(t,e,r){let n=t?.json;if(n?.origins&&r){let o;o=r==="link-chart"?n.origins[r]&&(e==="any"||e in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],o&&(e==="any"||e in o)&&(n=o)}return n}function de(t){let e=ge(t);if(t.json.origins)for(let r in t.json.origins){let n=t.json.origins[r],o=n.types?me(n):e;B(o,n,!1),n.types&&!n.write&&t.json.write&&t.json.write.enabled&&(n.write=et({},t.json.write)),H(o,n)}B(e,t.json,!0),H(e,t.json)}function ge(t){return t.json.types?K(t.json):t.type?Ct(t):K(t)}function me(t){return t.type?Ct(t):K(t)}function Ct(t){if(!t.type)return;let e=0,r=t.type;for(;Array.isArray(r)&&!_t(r);)r=r[0],e++;return{type:r,ndimArray:e}}function K(t){if(!t.types)return;let e=0,r=t.types;for(;Array.isArray(r);)r=r[0],e++;return{types:r,ndimArray:e}}function Dt(t){Nt(t)&&(vt(t),de(t))}var X=new Set,Y=new Set;function $r(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,_e(e);let r=[],n=[],o=e.prototype;for(;o;)o.hasOwnProperty("initialize")&&!X.has(o.initialize)&&(X.add(o.initialize),r.push(o.initialize)),o.hasOwnProperty("destroy")&&!Y.has(o.destroy)&&(Y.add(o.destroy),n.push(o.destroy)),o=Object.getPrototypeOf(o);X.clear(),Y.clear();let s=class extends e{constructor(...i){if(super(...i),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let a=r.length-1;a>=0;a--)r[a].call(this)}}),n.length){let a=!1,l=this[wt];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!a){a=!0,l.call(this);for(let u=0;u<n.length;u++)n[u].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript(...i)}}};s.__accessorMetadata__=b(e.prototype),s.prototype.declaredClass=t;let c=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:c,configurable:!0}),s}}function be(t,e){return e.get==null?function(){let r=this.__accessor__,n=r.propertiesByName.get(t);if(n===void 0)return;I(n);let o=r.store;return o.has(t)?o.get(t):n.metadata.value}:function(){let r=this.__accessor__,n=r.propertiesByName.get(t);if(n!==void 0)return n.getComputed(r)}}function _e(t){let e=t.prototype,r=b(e),n={};for(let o of Object.getOwnPropertyNames(r)){let s=r[o];Dt(s),n[o]={enumerable:!0,configurable:!0,get:be(o,s),set(c){let i=this.__accessor__;if(i!==void 0){if(!Object.isFrozen(this)){if(i.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${o}' of ${this.declaredClass}`);if(i.lifecycle===D.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${o}' of ${this.declaredClass}`);i.set(o,c)}}else Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:c})}}}Object.defineProperties(t.prototype,n)}var Z;(function(t){let e=(s,c,i,a)=>{let l=c,u=c,f=i>>>1,p=s[l-1];for(;u<=f;){u=l<<1,u<i&&a(s[u-1],s[u])<0&&++u;let tt=s[u-1];if(a(tt,p)<=0)break;s[l-1]=tt,l=u}s[l-1]=p},r=(s,c)=>s<c?-1:s>c?1:0;function n(s,c,i,a){c===void 0&&(c=0),i===void 0&&(i=s.length),a===void 0&&(a=r);for(let u=i>>>1;u>c;u--)e(s,u,i,a);let l=c+1;for(let u=i-1;u>c;u--){let f=s[c];s[c]=s[u],s[u]=f,e(s,l,u,a)}}function*o(s,c,i,a){c===void 0&&(c=0),i===void 0&&(i=s.length),a===void 0&&(a=r);for(let u=i>>>1;u>c;u--)e(s,u,i,a),yield;let l=c+1;for(let u=i-1;u>c;u--){let f=s[c];s[c]=s[u],s[u]=f,e(s,l,u,a),yield}}t.sort=n,t.iterableSort=o})(Z||(Z={}));var Q=Z;var we=1.5,ve=1.1,$t=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new rt,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>Et(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){let r=new Array;for(let n=0;n<this._length;n++){let o=this.data[n];e(o)&&r.push(o)}return r}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,r){let n=this.data.indexOf(e,r);return n!==-1&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let r=e;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,r=e.length){for(let n=0;n<r;n++)this.data[this._length++]=e[n]}fill(e,r){for(let n=0;n<r;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));let e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,Et(this)}pop(){if(this.length===0)return;let e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){let r=z(this.data,e,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(z(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,r=e.length,n){this.length=nt(this.data,e,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,r){if(e>=this.length||r>=this.length||e===r)return;let n=this.data[e];this.data[e]=this.data[r],this.data[r]=n}sort(e){Q.sort(this.data,0,this.length,e)}iterableSort(e){return Q.iterableSort(this.data,0,this.length,e)}some(e,r){for(let n=0;n<this.length;++n)if(e.call(r,this.data[n],n,this.data))return!0;return!1}find(e,r){for(let n=0;n<this.length;++n){let o=this.data[n];if(e.call(r,o,n))return o}}filterInPlace(e,r){let n=0;for(let o=0;o<this._length;++o){let s=this.data[o];e.call(r,s,o,this.data)&&(this.data[o]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let o=n;o<this._length;o++)this.data[o]=this._deallocator(this.data[o]);return this._length=n,this._shrink(),this}forAll(e,r){let{data:n,length:o}=this;for(let s=0;s<o;++s)e.call(r,n[s],s,n)}forEach(e,r){this.data.slice(0,this.length).forEach(e,r)}map(e,r){let n=new Array(this.length);for(let o=0;o<this.length;++o)n[o]=e.call(r,this.data[o],o,this.data);return n}reduce(e,r){let n=r;for(let o=0;o<this.length;++o)n=e(n,this.data[o],o,this.data);return n}has(e){let r=this.length,n=this.data;for(let o=0;o<r;++o)if(n[o]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function Et(t){t.data.length>we*t.length&&(t.data.length=Math.floor(t.length*ve))}export{wt as a,ct as b,Te as c,lt as d,ut as e,Oe as f,D as g,b as h,er as i,rr as j,Se as k,y as l,I as m,Ut as n,$e as o,Lt as p,qt as q,ze as r,$t as s,Fe as t,yt as u,Ue as v,Jt as w,Gt as x,Ht as y,Wt as z,m as A,P as B,Be as C,L as D,Je as E,_t as F,Zt as G,Qt as H,v as I,Ge as J,He as K,te as L,A as M,oe as N,pe as O,jr as P,Tr as Q,Or as R,$r as S};
