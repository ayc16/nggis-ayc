import{a as B,c as w}from"./chunk-MZFPLWMN.js";import{i}from"./chunk-DS2JVXBM.js";import{a as l,d as y}from"./chunk-3RDV3O6N.js";import{a as N}from"./chunk-VSVNPPHQ.js";import{_ as D}from"./chunk-CTGIUUCS.js";import{h as x,k as O,p as $,r as m}from"./chunk-X3IDZTNG.js";import{h as g}from"./chunk-EAH6BNBL.js";var A={ar:"ar-u-nu-latn"},f=new WeakMap,M={};function J(e){let t=e||M;if(!f.has(t)){let r=l(),n=A[l()]||r;f.set(t,new Intl.NumberFormat(n,e))}return f.get(t)}function v(e={}){let t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function u(e,t){return Object.is(e,-0)&&(e=0),J(t).format(e)}y(()=>{f=new WeakMap,M={}});var R=()=>$.getLogger("esri.intl.substitute");function I(e,t,r={}){let{format:n={}}=r;return O(e,o=>j(o,t,n))}function j(e,t,r){let n,o,a=e.indexOf(":");if(a===-1?n=e.trim():(n=e.slice(0,a).trim(),o=e.slice(a+1).trim()),!n)return"";let s=x(n,t);if(s==null)return"";let c=(o?r?.[o]:null)??r?.[n];return c?C(s,c):o?W(s,o):h(s)}function C(e,t){switch(t.type){case"date":return i(e,t.intlOptions);case"number":return u(e,t.intlOptions);default:return R().warn("missing format descriptor for key {key}"),h(e)}}function W(e,t){switch(t.toLowerCase()){case"dateformat":return i(e);case"numberformat":return u(e);default:return R().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?i(e):/^numberformat/i.test(t)?u(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return u(e);case"boolean":return""+e;default:return e instanceof Date?i(e):""}}function z(e,t,r,n){return g(this,null,function*(){let o=t.exec(r);if(!o)throw new m("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);let a=o[1]?`${o[1]}/`:"",s=o[2],c=w(n),p=`${a}${s}.json`,L=c?`${a}${s}_${c}.json`:p,d;try{d=yield U(e(L))}catch(T){if(L===p)throw new m("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:T});try{d=yield U(e(p))}catch(k){throw new m("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:k})}}return d})}function U(e){return g(this,null,function*(){if(F.fetchBundleAsset!=null)return F.fetchBundleAsset(e);let t=yield D(e,{responseType:"text"});return JSON.parse(t.data)})}var b=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let o;o=typeof n=="string"?a=>new URL(a,new URL(n,window.location.href)).href:n instanceof URL?a=>new URL(a,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=o,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return z(this.getAssetUrl,this.matcher,t,r)}};function S(e){return new b(e)}var F={};B(S({pattern:"esri/",location:N}));export{v as a,u as b,I as c};
