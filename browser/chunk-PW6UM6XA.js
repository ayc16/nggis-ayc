import{a as x}from"./chunk-72HDUQH4.js";import{c as v}from"./chunk-6FWNINU2.js";var z=e=>e==="vertical"||e==="horizontal"||e==="cross"||e==="esriSFSCross"||e==="esriSFSVertical"||e==="esriSFSHorizontal";function p(e,d,T){let r=d.style,l=v(Math.ceil(T)),t=z(r)?8*l:16*l,o=2*l;e.width=t,e.height=t;let a=e.getContext("2d");a.strokeStyle="#FFFFFF",a.lineWidth=l,a.beginPath(),r!=="vertical"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSVertical"||(a.moveTo(t/2,-o),a.lineTo(t/2,t+o)),r!=="horizontal"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSHorizontal"||(a.moveTo(-o,t/2),a.lineTo(t+o,t/2)),r!=="backward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSDiagonalCross"&&r!=="esriSFSBackwardDiagonal"||(a.moveTo(-o,-o),a.lineTo(t+o,t+o),a.moveTo(t-o,-o),a.lineTo(t+o,o),a.moveTo(-o,t-o),a.lineTo(o,t+o)),r!=="forward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSForwardDiagonal"&&r!=="esriSFSDiagonalCross"||(a.moveTo(t+o,-o),a.lineTo(-o,t+o),a.moveTo(o,-o),a.lineTo(-o,o),a.moveTo(t+o,t-o),a.lineTo(t-o,t+o)),a.stroke();let g=a.getImageData(0,0,e.width,e.height),s=new Uint8Array(g.data),h;for(let i=0;i<s.length;i+=4)h=s[i+3]/255,s[i]=s[i]*h,s[i+1]=s[i+1]*h,s[i+2]=s[i+2]*h;return[s,e.width,e.height,l]}function A(e,d){let T=d==="Butt",r=d==="Square",l=!T&&!r;e.length%2==1&&(e=[...e,...e]);let t=15.5,o=2*t,a=0;for(let c of e)a+=c;let g=Math.round(a*t),s=new Float32Array(g*o),h=.5*t,i=0,S=0,n=.5,f=!0;for(let c of e){for(i=S,S+=c*t;n<=S;){let F=.5;for(;F<o;){let u=(F-.5)*g+n-.5,m=l?(F-t)*(F-t):Math.abs(F-t);s[u]=f?T?Math.max(Math.max(i+h-n,m),Math.max(n-S+h,m)):m:l?Math.min((n-i)*(n-i)+m,(n-S)*(n-S)+m):r?Math.min(Math.max(n-i,m),Math.max(S-n,m)):Math.min(Math.max(n-i+h,m),Math.max(S+h-n,m)),F++}n++}f=!f}let M=s.length,w=new Uint8Array(4*M);for(let c=0;c<M;++c){let F=(l?Math.sqrt(s[c]):s[c])/t;x(F,w,4*c)}return[w,g,o]}export{p as a,A as b};
