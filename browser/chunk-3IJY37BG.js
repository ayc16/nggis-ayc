import{b as A0,f as _0,g as R0,i as s0}from"./chunk-6FWNINU2.js";import{G as n0,H as C0,I as l0,L as S0,U as E0,a as u,b as O,c as d,l as Y,n as Z,r as $,u as a0,v as e0,x as t0,z as r0}from"./chunk-BE76S5KT.js";var y0=Math.PI/180,x0=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,f=u.radius,P=u.eccentricitySquared,u0={a1:f*P,a2:f*P*f*P,a3:f*P*P/2,a4:f*P*f*P*2.5,a5:f*P+f*P*P/2,a6:1-P},v0={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:u.radius,f:u.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:d.radius,f:d.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:O.radius,f:O.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:O.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var a;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(a||(a={}));var O0={[a.WGS84]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:H,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:w,[a.PLATE_CARREE]:M,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.CGCS2000]:{[a.CGCS2000]:C,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:H,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:M,[a.WGS84]:null,[a.WGS84_ECEF]:W},[a.GCSMARS2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:C,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:o0,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.GCSMOON2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:P0,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.WEB_MERCATOR]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:K,[a.WGS84_COMPARABLE_LON_LAT]:K,[a.SPHERICAL_ECEF]:F0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:C,[a.PLATE_CARREE]:I0,[a.WGS84]:K,[a.WGS84_ECEF]:T0},[a.WGS84_ECEF]:{[a.CGCS2000]:F,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:F,[a.WGS84_COMPARABLE_LON_LAT]:F,[a.SPHERICAL_ECEF]:g0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:j0,[a.PLATE_CARREE]:h0,[a.WGS84]:F,[a.WGS84_ECEF]:C},[a.SPHERICAL_ECEF]:{[a.CGCS2000]:G,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:G,[a.WGS84_COMPARABLE_LON_LAT]:G,[a.SPHERICAL_ECEF]:C,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:U0,[a.PLATE_CARREE]:d0,[a.WGS84]:G,[a.WGS84_ECEF]:K0},[a.SPHERICAL_MARS_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:f0,[a.GCSMOON2000]:null,[a.LON_LAT]:f0,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:C,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.SPHERICAL_MOON_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:c0,[a.LON_LAT]:c0,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:C,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.UNKNOWN]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:null,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:C,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.LON_LAT]:{[a.CGCS2000]:C,[a.GCSMARS2000]:C,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:H,[a.SPHERICAL_MARS_PCPF]:o0,[a.SPHERICAL_MOON_PCPF]:P0,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:w,[a.PLATE_CARREE]:M,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.WGS84_COMPARABLE_LON_LAT]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:H,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:M,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.PLATE_CARREE]:{[a.CGCS2000]:N,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:N,[a.WGS84_COMPARABLE_LON_LAT]:N,[a.SPHERICAL_ECEF]:H0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:m0,[a.PLATE_CARREE]:C,[a.WGS84]:N,[a.WGS84_ECEF]:B0}};function $0(e){let r=z(e,k0);return O0[r][a.WGS84_COMPARABLE_LON_LAT]}function M0(e,r,t=N0()){return e==null||r==null?null:b0(e,r,t).projector}function z(e,r){return e?r.spatialReference===e?r.spatialReferenceId:(r.spatialReference=e,"metersPerUnit"in r&&(r.metersPerUnit=E0(e,1)),S0(e)?r.spatialReferenceId=a.SPHERICAL_ECEF:$(e)?r.spatialReferenceId=a.WGS84:a0(e)?r.spatialReferenceId=a.WEB_MERCATOR:e0(e)?r.spatialReferenceId=a.PLATE_CARREE:e.wkt===l0.wkt?r.spatialReferenceId=a.WGS84_ECEF:e.wkid===Y.CGCS2000?r.spatialReferenceId=a.CGCS2000:e.wkt===n0.wkt?r.spatialReferenceId=a.SPHERICAL_MARS_PCPF:e.wkt===C0.wkt?r.spatialReferenceId=a.SPHERICAL_MOON_PCPF:t0(e)?r.spatialReferenceId=a.GCSMARS2000:r0(e)?r.spatialReferenceId=a.GCSMOON2000:r.spatialReferenceId=a.UNKNOWN):a.UNKNOWN}function C(e,r,t,n){e!==t&&(t[n++]=e[r++],t[n++]=e[r++],t[n]=e[r])}function K(e,r,t,n){t[n]=B*(e[r]/T),t[n+1]=B*(W0-2*Math.atan(Math.exp(-e[r+1]/T))),t[n+2]=e[r+2]}function F0(e,r,t,n){let S=e[r]/T,E=W0-2*Math.atan(Math.exp(-e[r+1]/T)),A=T+e[r+2],l=Math.cos(E)*A;t[n]=Math.cos(S)*l,t[n+1]=Math.sin(S)*l,t[n+2]=Math.sin(E)*A}function T0(e,r,t,n){K(e,r,t,n),W(t,n,t,n)}function p0(e,r,t,n,S){let E=.4999999*j,A=A0(m*e[r+1],-E,E),l=Math.sin(A);t[n++]=m*e[r]*S.radius,t[n++]=S.halfSemiMajorAxis*Math.log((1+l)/(1-l)),t[n]=e[r+2]}function w(e,r,t,n){p0(e,r,t,n,u)}function M(e,r,t,n){t[n]=e[r]*i0,t[n+1]=e[r+1]*i0,t[n+2]=e[r+2]}function N(e,r,t,n){t[n]=e[r]*L0,t[n+1]=e[r+1]*L0,t[n+2]=e[r+2]}function I0(e,r,t,n){K(e,r,t,n),M(t,n,t,n)}function h0(e,r,t,n){F(e,r,t,n),M(t,n,t,n)}function d0(e,r,t,n){G(e,r,t,n),M(t,n,t,n)}function H0(e,r,t,n){N(e,r,t,n),H(t,n,t,n)}function m0(e,r,t,n){N(e,r,t,n),w(t,n,t,n)}function B0(e,r,t,n){N(e,r,t,n),W(t,n,t,n)}function J(e,r,t,n,S){let E=S+e[r+2],A=m*e[r+1],l=m*e[r],_=Math.cos(A)*E;t[n]=Math.cos(l)*_,t[n+1]=Math.sin(l)*_,t[n+2]=Math.sin(A)*E}function P0(e,r,t,n){J(e,r,t,n,d.radius)}function o0(e,r,t,n){J(e,r,t,n,O.radius)}function H(e,r,t,n){J(e,r,t,n,u.radius)}function Q(e,r,t,n,S){let E=e[r],A=e[r+1],l=e[r+2],_=Math.sqrt(E*E+A*A+l*l),s=s0(l/(_===0?1:_)),R=Math.atan2(A,E);t[n++]=B*R,t[n++]=B*s,t[n]=_-S}function c0(e,r,t,n){Q(e,r,t,n,d.radius)}function f0(e,r,t,n){Q(e,r,t,n,O.radius)}function G(e,r,t,n){Q(e,r,t,n,u.radius)}function U0(e,r,t,n){G(e,r,t,n),w(t,n,t,n)}function K0(e,r,t,n){G(e,r,t,n),W(t,n,t,n)}function w0(e,r,t,n,S){let E=m*e[r],A=m*e[r+1],l=e[r+2],_=Math.sin(A),s=Math.cos(A),R=S.radius/Math.sqrt(1-S.eccentricitySquared*_*_);t[n++]=(R+l)*s*Math.cos(E),t[n++]=(R+l)*s*Math.sin(E),t[n++]=(R*(1-S.eccentricitySquared)+l)*_}function W(e,r,t,n){w0(e,r,t,n,u)}function F(e,r,t,n){let S=u0,E=e[r],A=e[r+1],l=e[r+2],_,s,R,i,L,b,g,o,c,U,k,q,y,p,I,x,v,D,h,V,X;_=Math.abs(l),s=E*E+A*A,R=Math.sqrt(s),i=s+l*l,L=Math.sqrt(i),V=Math.atan2(A,E),b=l*l/i,g=s/i,p=S.a2/L,I=S.a3-S.a4/L,g>.3?(o=_/L*(1+g*(S.a1+p+b*I)/L),h=Math.asin(o),U=o*o,c=Math.sqrt(1-U)):(c=R/L*(1-b*(S.a5-p-g*I)/L),h=Math.acos(c),U=1-c*c,o=Math.sqrt(U)),k=1-u.eccentricitySquared*U,q=u.radius/Math.sqrt(k),y=S.a6*q,p=R-q*c,I=_-y*o,v=c*p+o*I,x=c*I-o*p,D=x/(y/k+v),h+=D,X=v+x*D/2,l<0&&(h=-h),t[n++]=B*V,t[n++]=B*h,t[n]=X}function g0(e,r,t,n){F(e,r,t,n),H(t,n,t,n)}function j0(e,r,t,n){F(e,r,t,n),w(t,n,t,n)}function b0(e,r,t){if(e==null||r==null||t.source.spatialReference===e&&t.dest.spatialReference===r)return t;let n=z(e,t.source),S=z(r,t.dest);return n===a.UNKNOWN&&S===a.UNKNOWN?Z(e,r)?t.projector=C:t.projector=null:t.projector=O0[n][S],t}function N0(){return{source:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},projector:C}}var k0={spatialReference:null,spatialReferenceId:a.UNKNOWN},aa={spatialReference:null,spatialReferenceId:a.UNKNOWN},G0=N0(),m=_0(1),B=R0(1),j=Math.PI,W0=.5*j,T=u.radius,i0=T*j/180,L0=180/(T*j);function ra(e,r,t,n,S,E,A=1){let l=M0(r,S,G0);if(l==null)return!1;if(l===C){if(e===n&&t===E)return!0;let s=t+3*A;for(let R=t,i=E;R<s;R++,i++)n[i]=e[R];return!0}let _=t+3*A;for(let s=t,R=E;s<_;s+=3,R+=3)l(e,s,n,R);return!0}export{y0 as a,x0 as b,v0 as c,a as d,O0 as e,$0 as f,M0 as g,z as h,k0 as i,aa as j,G0 as k,ra as l};
