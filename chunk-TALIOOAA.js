import{b as Kt,c as Oe,d as Qt}from"./chunk-6UOVQ25A.js";import{a as Le,b as je}from"./chunk-BNSYK2BT.js";import{a as ge,b as ve,c as Se,e as Et,f as S,g as xe,h as De,i as Po,j as ko,k as No,l as _o,m as qt,n as xt}from"./chunk-DHY7QZ2H.js";import{a as m}from"./chunk-MFP2OFDR.js";import{a as Vt}from"./chunk-WXS2B4FF.js";import{c as he,e as de}from"./chunk-GNCG2SQP.js";import{a as be,b as we}from"./chunk-J4PQZSQE.js";import{n as ze}from"./chunk-Q3WN5PJ6.js";import{b as L,c as g}from"./chunk-AQ74ANSJ.js";import{a}from"./chunk-XKXYUJUA.js";import{b as c}from"./chunk-G3LLBABP.js";import{c as Y}from"./chunk-U4U366GW.js";import{a as mt,b as $t,c as Bt,d as X}from"./chunk-R4TNLPIN.js";import{a as D}from"./chunk-UI76XBLJ.js";import{a as N}from"./chunk-UE2YGKE7.js";import{a as fe}from"./chunk-D2ITYHSM.js";import{b as nt}from"./chunk-FIITBHDP.js";import{m as ye,r as Jt,s as ce,t as pt,v as Wt,y as ue,z as Ht}from"./chunk-CTGIUUCS.js";import{F as e,I as F,Q as n,c as Oo}from"./chunk-VWEBO6QK.js";import{H as ne,I as R,M as zo,N as me,S as s}from"./chunk-KAAR5ZJN.js";import{a as o}from"./chunk-W3WDPWBE.js";import{h as pe}from"./chunk-WKT5W7KT.js";import{b as p,m as ae,p as T}from"./chunk-X3IDZTNG.js";import{a as Q,b as G,h as Ft}from"./chunk-EAH6BNBL.js";var Mo,Ee=nt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),J=Mo=class extends n{constructor(t){super(t)}readHref(t,r,i){return t?mt(t,i):r.dataURI}writeHref(t,r,i,l){t&&(Wt(t)?r.dataURI=t:(r.href=$t(t,l),pt(r.href)&&(r.href=Jt(r.href))))}clone(){return new Mo({href:this.href,primitive:this.primitive})}};o([e({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],J.prototype,"href",void 0),o([D("href")],J.prototype,"readHref",null),o([N("href",{href:{type:String},dataURI:{type:String}})],J.prototype,"writeHref",null),o([a(Ee)],J.prototype,"primitive",void 0),J=Mo=o([s("esri.symbols.support.IconSymbol3DLayerResource")],J);var wr="circle";var Co,qe=nt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),yt=Co=class extends n{clone(){return new Co({href:this.href,primitive:this.primitive})}};o([e({type:String,json:{read:Bt,write:X}})],yt.prototype,"href",void 0),o([a(qe)],yt.prototype,"primitive",void 0),yt=Co=o([s("esri.symbols.support.ObjectSymbol3DLayerResource")],yt);var _r="sphere";var To,Z=To=class extends F{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new To({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};o([e({type:String})],Z.prototype,"name",void 0),o([e({type:String})],Z.prototype,"styleUrl",void 0),o([e({type:String})],Z.prototype,"styleName",void 0),o([e({type:Y})],Z.prototype,"portal",void 0),Z=To=o([s("esri.symbols.support.StyleOrigin")],Z);var Gt=Z;var Ao,tt=Ao=class extends F{constructor(){super(...arguments),this.url=""}clone(){return new Ao({url:this.url})}};o([e({type:String})],tt.prototype,"url",void 0),tt=Ao=o([s("esri.symbols.support.Thumbnail")],tt);function Ke(t,r,i){return r.imageData?Ht({mediaType:r.contentType||"image/png",isBase64:!0,data:r.imageData}):Pe(r.url,i)}function Pe(t,r){if(!pt(t)){let i=Ge(r);if(i)return ce(i,"images",t)}return mt(t,r)}function Qe(t,r,i,l){if(Wt(t)){let y=ue(t);if(!y)return;r.contentType=y.mediaType,r.imageData=y.data,i&&i.imageData===r.imageData&&i.url&&X(i.url,r,"url",l)}else X(t,r,"url",l)}var Xt={json:{read:{source:["imageData","url"],reader:Ke},write:{writer(t,r,i,l){Qe(t,r,this.source,l)}}}},Yt={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,r,i){let l={};return r.imageData&&(l.imageData=r.imageData),r.contentType&&(l.contentType=r.contentType),r.url&&(l.url=Pe(r.url,i)),l}}}};function Ge(t){if(!t)return null;let{origin:r,layer:i}=t;if(r!=="service"&&r!=="portal-item")return null;let l=i?.type;return l==="feature"||l==="stream"?i.parsedUrl?.path:l==="map-image"||l==="tile"?t.url?.path:null}var Io,j=Io=class extends _o{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,r,i){if(t&&typeof t!="string"&&t.imageData==null)return t;let l={};return t&&(l.url=t),r!=null&&(l.width=g(r)),i!=null&&(l.height=g(i)),l}readHeight(t,r){return r.size||t}readWidth(t,r){return r.size||t}clone(){let t=new Io({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",p(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};o([e({json:{write:!1}})],j.prototype,"color",void 0),o([a({esriPMS:"picture-marker"},{readOnly:!0})],j.prototype,"type",void 0),o([e(Xt)],j.prototype,"url",void 0),o([e(Yt)],j.prototype,"source",void 0),o([e({type:Number,cast:g,json:{write:!0}})],j.prototype,"height",void 0),o([D("height",["height","size"])],j.prototype,"readHeight",null),o([e({type:Number,cast:g,json:{write:!0}})],j.prototype,"width",void 0),o([e({json:{write:!1}})],j.prototype,"size",void 0),j=Io=o([s("esri.symbols.PictureMarkerSymbol")],j);var Zt=j;var Uo,W=Uo=class extends S{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,r){return r}writeData(t,r){Object.assign(r,t)}collectRequiredFields(t,r){return Ft(this,null,function*(){if(this.data?.type==="CIMSymbolReference"){let i=this.data.primitiveOverrides;if(i){let l=i.map(y=>{let St=y.valueExpressionInfo;return St?ze(t,r,St.expression):null});yield Promise.all(l)}}})}clone(){return new Uo({data:p(this.data)})}hash(){return ae(JSON.stringify(this.data)).toString()}};o([e({json:{write:!1}})],W.prototype,"color",void 0),o([e({json:{write:!0}})],W.prototype,"data",void 0),o([D("data",["symbol"])],W.prototype,"readData",null),o([N("data",{})],W.prototype,"writeData",null),o([a({CIMSymbolReference:"cim"},{readOnly:!0})],W.prototype,"type",void 0),W=Uo=o([s("esri.symbols.CIMSymbol")],W);var Dt=W;var ct=class extends n{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};o([e({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ct.prototype,"enabled",void 0),o([N("enabled")],ct.prototype,"writeEnabled",null),o([e({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],ct.prototype,"type",void 0),ct=o([s("esri.symbols.Symbol3DLayer")],ct);var u=ct;function Xe(t,r){let i=r.transparency!=null?je(r.transparency):1,l=r.color;return l&&Array.isArray(l)?new m([l[0]||0,l[1]||0,l[2]||0,i]):null}function Ye(t,r){r.color=t.toJSON().slice(0,3);let i=Le(t.a);i!==0&&(r.transparency=i)}var f={type:m,json:{type:[R],default:null,read:{source:["color","transparency"],reader:Xe},write:{target:{color:{type:[R]},transparency:{type:R}},writer:Ye}}},h={type:Number,cast:g,json:{write:!0}};var ot=class extends n{constructor(t){super(t),this.color=new m([0,0,0,1]),this.extensionLength=0,this.size=L(1)}clone(){}cloneProperties(){return{color:p(this.color),size:this.size,extensionLength:this.extensionLength}}};o([e({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ot.prototype,"type",void 0),o([e(f)],ot.prototype,"color",void 0),o([e(G(Q({},h),{json:{write:{overridePolicy:t=>({enabled:!!t})}}}))],ot.prototype,"extensionLength",void 0),o([e(h)],ot.prototype,"size",void 0),ot=o([s("esri.symbols.edges.Edges3D")],ot);var ut=ot;var Ro,to=Ro=class extends ut{constructor(t){super(t),this.type="sketch"}clone(){return new Ro(this.cloneProperties())}};o([a({sketch:"sketch"},{readOnly:!0})],to.prototype,"type",void 0),to=Ro=o([s("esri.symbols.edges.SketchEdges3D")],to);var ke=to;var Fo,oo=Fo=class extends ut{constructor(t){super(t),this.type="solid"}clone(){return new Fo(this.cloneProperties())}};o([a({solid:"solid"},{readOnly:!0})],oo.prototype,"type",void 0),oo=Fo=o([s("esri.symbols.support.SolidEdges3D")],oo);var Ne=oo;var eo={types:{key:"type",base:ut,typeMap:{solid:Ne,sketch:ke}},json:{write:!0}};var Jo,d=Jo=class extends n{constructor(t){super(t),this.color=null}clone(){let t={color:this.color!=null?this.color.clone():null};return new Jo(t)}};o([e(f)],d.prototype,"color",void 0),d=Jo=o([s("esri.symbols.support.Symbol3DMaterial")],d);var Wo,H=Wo=class extends u{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Wo({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};o([a({Extrude:"extrude"},{readOnly:!0})],H.prototype,"type",void 0),o([e({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],H.prototype,"size",void 0),o([e({type:d,json:{write:!0}})],H.prototype,"material",void 0),o([e({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],H.prototype,"castShadows",void 0),o([e(eo)],H.prototype,"edges",void 0),H=Wo=o([s("esri.symbols.ExtrudeSymbol3DLayer")],H);var Lt=H;var ro=class extends n{constructor(t){super(t)}clone(){}};o([e({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ro.prototype,"type",void 0),ro=o([s("esri.symbols.patterns.LinePattern3D")],ro);var so=ro;var _e=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Ho,Ze=nt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"}),jt=Ho=class extends so{constructor(t){super(t),this.type="style",this.style="solid"}clone(){let t={style:this.style};return new Ho(t)}};o([e({type:["style"]})],jt.prototype,"type",void 0),o([a(Ze),e({type:_e})],jt.prototype,"style",void 0),jt=Ho=o([s("esri.symbols.patterns.LineStylePattern3D")],jt);var ht=jt;var io=class extends n{constructor(t){super(t)}clone(){}};o([e({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],io.prototype,"type",void 0),io=o([s("esri.symbols.patterns.Pattern3D")],io);var lo=io;var Me=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var $o,Ot=$o=class extends lo{constructor(t){super(t),this.type="style",this.style="solid"}clone(){let t={style:this.style};return new $o(t)}};o([e({type:["style"]})],Ot.prototype,"type",void 0),o([e({type:Me,json:{read:!0,write:!0}})],Ot.prototype,"style",void 0),Ot=$o=o([s("esri.symbols.patterns.StylePattern3D")],Ot);var ao=Ot;var Ce={types:{key:"type",base:lo,typeMap:{style:ao}},json:{write:!0}},po={types:{key:"type",base:so,typeMap:{style:ht}},json:{write:!0}};var $=new m("white"),Bl=new m("black"),Te=new m([255,255,255,0]);function Ae(t){return t.r===0&&t.g===0&&t.b===0}var Bo,dt=Bo=class extends d{constructor(t){super(t),this.colorMixMode=null}clone(){let t={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new Bo(t)}};o([a({multiply:"multiply",replace:"replace",tint:"tint"})],dt.prototype,"colorMixMode",void 0),dt=Bo=o([s("esri.symbols.support.Symbol3DFillMaterial")],dt);var Vo,B=Vo=class extends n{constructor(t){super(t),this.color=new m([0,0,0,1]),this.size=L(1),this.pattern=null,this.patternCap="butt"}clone(){let t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Vo(t)}};o([e(f)],B.prototype,"color",void 0),o([e(h)],B.prototype,"size",void 0),o([e(po)],B.prototype,"pattern",void 0),o([e({type:Kt,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],B.prototype,"patternCap",void 0),B=Vo=o([s("esri.symbols.support.Symbol3DOutline")],B);var no,A=no=class extends u{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){let t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new no(t)}static fromSimpleFillSymbol(t){let r=t.outline&&t.outline.style&&t.outline.style!=="inside-frame"&&t.outline.style!=="solid"?new ht({style:t.outline.style}):null,i={size:t.outline?.width??0,color:(t.outline?.color??$).clone(),pattern:r};return r&&t.outline?.cap&&(i.patternCap=t.outline.cap),new no({material:new dt({color:(t.color??Te).clone()}),pattern:t.style&&t.style!=="solid"?new ao({style:t.style}):null,outline:i})}};o([a({Fill:"fill"},{readOnly:!0})],A.prototype,"type",void 0),o([e({type:dt,json:{write:!0}})],A.prototype,"material",void 0),o([e(Ce)],A.prototype,"pattern",void 0),o([e({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],A.prototype,"castShadows",void 0),o([e({type:B,json:{write:!0}})],A.prototype,"outline",void 0),o([e(eo)],A.prototype,"edges",void 0),A=no=o([s("esri.symbols.FillSymbol3DLayer")],A);var I=A;var Eo,et=Eo=class extends F{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Eo({x:this.x,y:this.y})}};o([e({type:Number})],et.prototype,"x",void 0),o([e({type:Number})],et.prototype,"y",void 0),et=Eo=o([s("esri.symbols.support.Symbol3DAnchorPosition2D")],et);var qo,ft=qo=class extends n{constructor(t){super(t),this.color=new m([0,0,0,1]),this.size=L(1)}clone(){let t={color:this.color!=null?this.color.clone():null,size:this.size};return new qo(t)}};o([e(f)],ft.prototype,"color",void 0),o([e(h)],ft.prototype,"size",void 0),ft=qo=o([s("esri.symbols.support.Symbol3DIconOutline")],ft);var bt,Re="esri.symbols.IconSymbol3DLayer",_=bt=class extends u{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new bt({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){let r=t.color||$,i=Ie(t),l=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||$).clone()}:null;return new bt({size:t.size,resource:{primitive:or(t.style)},material:{color:r},outline:l,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){let r=!t.color||Ae(t.color)?$:t.color,i=Ie(t);return new bt({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new bt({resource:{href:Ht({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Ie(t){let r="width"in t?t.width:t.size,i="height"in t?t.height:t.size,l=Ue(t.xoffset),y=Ue(t.yoffset);return(l||y)&&r&&i?{x:-l/r,y:y/i}:null}function Ue(t){return isFinite(t)?t:0}o([e({type:d,json:{write:!0}})],_.prototype,"material",void 0),o([e({type:J,json:{write:!0}})],_.prototype,"resource",void 0),o([a({Icon:"icon"},{readOnly:!0})],_.prototype,"type",void 0),o([e(h)],_.prototype,"size",void 0),o([a({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),e({json:{default:"center"}})],_.prototype,"anchor",void 0),o([e({type:et,json:{type:[Number],read:{reader:t=>new et({x:t[0],y:t[1]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],_.prototype,"anchorPosition",void 0),o([e({type:ft,json:{write:!0}})],_.prototype,"outline",void 0),_=bt=o([s(Re)],_);var tr={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function or(t){return tr[t]||(T.getLogger(Re).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}var O=_;var rt=class extends Vt(n){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};o([e({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],rt.prototype,"type",void 0),o([e({type:xe,json:{default:"begin-end",write:!0}})],rt.prototype,"placement",void 0),o([e({type:De,json:{default:"arrow",write:!0}})],rt.prototype,"style",void 0),o([e({type:m,json:{type:[R],default:null,write:!0}})],rt.prototype,"color",void 0),rt=o([s("esri.symbols.LineStyleMarker3D")],rt);var mo=rt;var yo,M=yo=class extends u{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=L(1),this.pattern=null,this.marker=null}clone(){let t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new yo(t)}static fromSimpleLineSymbol(t){let r={enabled:!0,size:t.width??L(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&t.style!=="inside-frame"?new ht({style:t.style}):null,material:new d({color:(t.color||$).clone()}),marker:t.marker?new mo({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new yo(r)}};o([e({type:d,json:{write:!0}})],M.prototype,"material",void 0),o([a({Line:"line"},{readOnly:!0})],M.prototype,"type",void 0),o([e({type:Qt,json:{write:!0,default:"miter"}})],M.prototype,"join",void 0),o([e({type:Kt,json:{write:!0,default:"butt"}})],M.prototype,"cap",void 0),o([e(h)],M.prototype,"size",void 0),o([e(po)],M.prototype,"pattern",void 0),o([e({types:{key:"type",base:mo,typeMap:{style:mo}},json:{write:!0}})],M.prototype,"marker",void 0),M=yo=o([s("esri.symbols.LineSymbol3DLayer")],M);var U=M;var Ko,V=Ko=class extends F{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ko({x:this.x,y:this.y,z:this.z})}};o([e({type:Number})],V.prototype,"x",void 0),o([e({type:Number})],V.prototype,"y",void 0),o([e({type:Number})],V.prototype,"z",void 0),V=Ko=o([s("esri.symbols.support.Symbol3DAnchorPosition3D")],V);var Qo,b=Qo=class extends u{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Qo({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};o([e({type:d,json:{write:!0}})],b.prototype,"material",void 0),o([e({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),o([e({type:yt,json:{write:!0}})],b.prototype,"resource",void 0),o([a({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"width",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"height",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"depth",void 0),o([a({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),e({json:{default:"origin"}})],b.prototype,"anchor",void 0),o([e({type:V,json:{type:[Number],read:{reader:t=>new V({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],b.prototype,"anchorPosition",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"heading",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0),o([e({type:Number,json:{write:!0}})],b.prototype,"roll",void 0),o([e({readOnly:!0})],b.prototype,"isPrimitive",null),b=Qo=o([s("esri.symbols.ObjectSymbol3DLayer")],b);var st=b;var Go,w=Go=class extends u{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new Go({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};o([e({type:d,json:{write:!0}})],w.prototype,"material",void 0),o([e({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],w.prototype,"castShadows",void 0),o([a({Path:"path"},{readOnly:!0})],w.prototype,"type",void 0),o([e({type:["circle","quad"],json:{write:!0,default:"circle"}})],w.prototype,"profile",void 0),o([e({type:Qt,json:{write:!0,default:"miter"}})],w.prototype,"join",void 0),o([e({type:Oe,json:{write:!0,default:"butt"}})],w.prototype,"cap",void 0),o([e({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],w.prototype,"width",void 0),o([D("width",["width","size","height"])],w.prototype,"readWidth",null),o([e({type:Number,json:{write:!0}})],w.prototype,"height",void 0),o([D("height",["height","size","width"])],w.prototype,"readHeight",null),o([e({type:["center","bottom","top"],json:{write:!0,default:"center"}})],w.prototype,"anchor",void 0),o([e({type:["heading","all"],json:{write:!0,default:"all"}})],w.prototype,"profileRotation",void 0),w=Go=o([s("esri.symbols.PathSymbol3DLayer")],w);var wt=w;var Xo,it=Xo=class extends n{constructor(){super(...arguments),this.color=new m([0,0,0,1]),this.size=0}clone(){let t={color:p(this.color),size:this.size};return new Xo(t)}};o([e(f)],it.prototype,"color",void 0),o([e(h)],it.prototype,"size",void 0),it=Xo=o([s("esri.symbols.support.Symbol3DHalo")],it);var gt=class extends Vt(n){constructor(t){super(t),this.color=null}};o([e(f)],gt.prototype,"color",void 0),gt=o([s("esri.symbols.support.Symbol3DTextBackground")],gt);var co,v=co=class extends u{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,i,l){let y=G(Q({},l),{textSymbol3D:!0});r.font=t.write({},y),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){let t=new co({enabled:this.enabled,font:this.font&&p(this.font),halo:this.halo&&p(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:p(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new co({font:t.font!=null?t.font.clone():new Et,halo:er(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new d({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new gt({color:t.backgroundColor.clone()}):null})}};function er(t,r){return t&&r!=null&&r>0?new it({color:p(t),size:r}):null}o([e({type:Et,json:{write:!0}})],v.prototype,"font",null),o([N("font")],v.prototype,"writeFont",null),o([e({type:it,json:{write:!0}})],v.prototype,"halo",void 0),o([e(G(Q({},ve),{json:{default:"center",write:!0}}))],v.prototype,"horizontalAlignment",void 0),o([e(G(Q({},ge),{json:{default:1,write:!0}}))],v.prototype,"lineHeight",void 0),o([e({type:d,json:{write:!0}})],v.prototype,"material",void 0),o([e({type:gt,json:{write:!0}})],v.prototype,"background",void 0),o([e(h)],v.prototype,"size",null),o([e({type:String,json:{write:!0}})],v.prototype,"text",void 0),o([a({Text:"text"},{readOnly:!0})],v.prototype,"type",void 0),o([e(G(Q({},Se),{json:{default:"baseline",write:!0}}))],v.prototype,"verticalAlignment",void 0),v=co=o([s("esri.symbols.TextSymbol3DLayer")],v);var z=v;var Yo,E=Yo=class extends u{constructor(t){super(t),this.color=Zo.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Yo({color:p(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};o([e({type:m,nonNullable:!0,json:{type:[R],write:(t,r,i)=>r[i]=t.toArray(m.AlphaMode.UNLESS_OPAQUE),default:()=>Zo.clone(),defaultEquals:t=>t.toCss(!0)===Zo.toCss(!0)}})],E.prototype,"color",void 0),o([a({Water:"water"},{readOnly:!0})],E.prototype,"type",void 0),o([e({type:["small","medium","large"],json:{write:!0,default:"medium"}})],E.prototype,"waterbodySize",void 0),o([e({type:Number,json:{write:!0,default:null}})],E.prototype,"waveDirection",void 0),o([e({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],E.prototype,"waveStrength",void 0),E=Yo=o([s("esri.symbols.WaterSymbol3DLayer")],E);var Zo=new m([0,119,190]),zt=E;var Fe={icon:O,object:st,line:U,path:wt,fill:I,extrude:Lt,text:z,water:zt},rr=c.ofType({base:u,key:"type",typeMap:Fe,errorContext:"symbol-layer"}),C=class extends S{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;let r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,l=i||c;this._set("symbolLayers",new l)}get color(){return null}set color(t){this.constructed&&T.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){be(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){let l=mt(t.styleUrl,i);return new Gt({styleUrl:l,name:t.name})}if(t.styleName&&t.name)return new Gt({portal:i?.portal||Y.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new zo("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,l){if(t.styleUrl&&t.name){let y=$t(t.styleUrl,l);pt(y)&&(y=Jt(y)),r.styleOrigin={styleUrl:y,name:t.name}}else t.styleName&&t.name&&(t.portal&&l?.portal&&!ye(t.portal.restUrl,l.portal.restUrl)?l?.messages&&l.messages.push(new zo("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof u||t&&Fe[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};o([e({json:{read:!1,write:!1}})],C.prototype,"color",null),o([e({type:rr,nonNullable:!0,json:{write:!0}}),fe(we)],C.prototype,"symbolLayers",null),o([e({type:Gt})],C.prototype,"styleOrigin",void 0),o([D("styleOrigin")],C.prototype,"readStyleOrigin",null),o([N("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],C.prototype,"writeStyleOrigin",null),o([e({type:tt,json:{read:!1}})],C.prototype,"thumbnail",void 0),o([e({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],C.prototype,"type",void 0),C=o([s("esri.symbols.Symbol3D")],C);var P=C;var Pt=class extends n{constructor(t){super(t),this.visible=!0}clone(){}};o([e({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Pt.prototype,"type",void 0),o([e({readOnly:!0})],Pt.prototype,"visible",void 0),Pt=o([s("esri.symbols.callouts.Callout3D")],Pt);var uo=Pt;var te,ho=te=class extends n{constructor(t){super(t),this.color=new m("white")}clone(){return new te({color:p(this.color)})}};o([e(f)],ho.prototype,"color",void 0),ho=te=o([s("esri.symbols.callouts.LineCallout3DBorder")],ho);var oe=ho;var ee,q=ee=class extends uo{constructor(t){super(t),this.type="line",this.color=new m([0,0,0,1]),this.size=L(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new ee({color:p(this.color),size:this.size,border:p(this.border)})}};o([a({line:"line"})],q.prototype,"type",void 0),o([e(f)],q.prototype,"color",void 0),o([e(h)],q.prototype,"size",void 0),o([e({type:oe,json:{write:!0}})],q.prototype,"border",void 0),o([e({readOnly:!0})],q.prototype,"visible",null),q=ee=o([s("esri.symbols.callouts.LineCallout3D")],q);var kt=q;function Nt(t){if(!t)return!1;let r=t.verticalOffset;return!!r&&!(r.screenLength<=0||r.maxWorldLength!=null&&r.maxWorldLength<=0)}function fo(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;let r=t.callout;return!!r&&!!r.visible&&!!Nt(t)}var bo={types:{key:"type",base:uo,typeMap:{line:kt}},json:{write:!0}};var re,vt=re=class extends n{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new re({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};o([e(h)],vt.prototype,"screenLength",void 0),o([e({type:Number,nonNullable:!0,json:{write:!0,default:0}})],vt.prototype,"minWorldLength",void 0),o([e({type:Number,json:{write:!0}})],vt.prototype,"maxWorldLength",void 0),vt=re=o([s("esri.symbols.support.Symbol3DVerticalOffset")],vt);var _t=vt;var wo,Je=c.ofType({base:null,key:"type",typeMap:{text:z}}),K=wo=class extends P{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Je,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return fo(this)}hasVisibleVerticalOffset(){return Nt(this)}clone(){return new wo({styleOrigin:p(this.styleOrigin),symbolLayers:p(this.symbolLayers),thumbnail:p(this.thumbnail),callout:p(this.callout),verticalOffset:p(this.verticalOffset)})}static fromTextSymbol(t){return new wo({symbolLayers:new c([z.fromTextSymbol(t)])})}};o([e({type:_t,json:{write:!0}})],K.prototype,"verticalOffset",void 0),o([e(bo)],K.prototype,"callout",void 0),o([e({json:{read:!1,write:!1}})],K.prototype,"styleOrigin",void 0),o([e({type:Je})],K.prototype,"symbolLayers",void 0),o([a({LabelSymbol3D:"label-3d"},{readOnly:!0})],K.prototype,"type",void 0),K=wo=o([s("esri.symbols.LabelSymbol3D")],K);var go=K;var vo,We=c.ofType({base:null,key:"type",typeMap:{line:U,path:wt}}),sr=c.ofType({base:null,key:"type",typeMap:{line:U,path:wt}}),Mt=vo=class extends P{constructor(t){super(t),this.symbolLayers=new We,this.type="line-3d"}clone(){return new vo({styleOrigin:p(this.styleOrigin),symbolLayers:p(this.symbolLayers),thumbnail:p(this.thumbnail)})}static fromSimpleLineSymbol(t){return new vo({symbolLayers:new c([U.fromSimpleLineSymbol(t)])})}};o([e({type:We,json:{type:sr}})],Mt.prototype,"symbolLayers",void 0),o([a({LineSymbol3D:"line-3d"},{readOnly:!0})],Mt.prototype,"type",void 0),Mt=vo=o([s("esri.symbols.LineSymbol3D")],Mt);var So=Mt;var xo,He=c.ofType({base:null,key:"type",typeMap:{fill:I}}),Ct=xo=class extends P{constructor(t){super(t),this.symbolLayers=new He,this.type="mesh-3d"}clone(){return new xo({styleOrigin:p(this.styleOrigin),symbolLayers:p(this.symbolLayers),thumbnail:p(this.thumbnail)})}static fromSimpleFillSymbol(t){return new xo({symbolLayers:new c([I.fromSimpleFillSymbol(t)])})}};o([e({type:He})],Ct.prototype,"symbolLayers",void 0),o([a({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ct.prototype,"type",void 0),Ct=xo=o([s("esri.symbols.MeshSymbol3D")],Ct);var Do=Ct;var se,x=se=class extends ko{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,r,i,l){if(t&&typeof t!="string"&&t.imageData==null)return t;let y={};return t&&(y.url=t),r&&(y.outline=r),i!=null&&(y.width=g(i)),l!=null&&(y.height=g(l)),y}clone(){let t=new se({color:p(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",p(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};o([a({esriPFS:"picture-fill"},{readOnly:!0})],x.prototype,"type",void 0),o([e(Xt)],x.prototype,"url",void 0),o([e({type:Number,json:{write:!0}})],x.prototype,"xscale",void 0),o([e({type:Number,json:{write:!0}})],x.prototype,"yscale",void 0),o([e({type:Number,cast:g,json:{write:!0}})],x.prototype,"width",void 0),o([e({type:Number,cast:g,json:{write:!0}})],x.prototype,"height",void 0),o([e({type:Number,cast:g,json:{write:!0}})],x.prototype,"xoffset",void 0),o([e({type:Number,cast:g,json:{write:!0}})],x.prototype,"yoffset",void 0),o([e(Yt)],x.prototype,"source",void 0),x=se=o([s("esri.symbols.PictureFillSymbol")],x);var ie=x;var lt,$e=c.ofType({base:null,key:"type",typeMap:{icon:O,object:st,text:z}}),at=lt=class extends P{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new $e,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(let t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return fo(this)}hasVisibleVerticalOffset(){return Nt(this)}clone(){return new lt({verticalOffset:p(this.verticalOffset),callout:p(this.callout),styleOrigin:p(this.styleOrigin),symbolLayers:p(this.symbolLayers),thumbnail:p(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new lt({symbolLayers:new c([O.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new lt({symbolLayers:new c([O.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;let i=t.data.symbol;return new lt(i?.callout?{symbolLayers:new c([O.fromCIMSymbol(t)]),callout:new kt({size:.5,color:new m([0,0,0])}),verticalOffset:new _t({screenLength:40})}:{symbolLayers:new c([O.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new lt({symbolLayers:new c([z.fromTextSymbol(t)])})}};o([e({type:_t,json:{write:!0}})],at.prototype,"verticalOffset",void 0),o([e(bo)],at.prototype,"callout",void 0),o([e({type:$e,json:{origins:{"web-scene":{write:!0}}}})],at.prototype,"symbolLayers",void 0),o([a({PointSymbol3D:"point-3d"},{readOnly:!0})],at.prototype,"type",void 0),at=lt=o([s("esri.symbols.PointSymbol3D")],at);var Lo=at;var Tt,Be=c.ofType({base:null,key:"type",typeMap:{extrude:Lt,fill:I,icon:O,line:U,object:st,text:z,water:zt}}),At=Tt=class extends P{constructor(t){super(t),this.symbolLayers=new Be,this.type="polygon-3d"}initialize(){let t=r=>{r.type==="line"&&Oo(T.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),r.type==="text"&&Oo(T.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(let r of this.symbolLayers)t(r);this.addHandles(he(()=>this.symbolLayers,"after-add",({item:r})=>t(r),de))}clone(){return new Tt({styleOrigin:p(this.styleOrigin),symbolLayers:p(this.symbolLayers),thumbnail:p(this.thumbnail)})}static fromJSON(t){let r=new Tt;if(r.read(t),r.symbolLayers.length===2&&r.symbolLayers.at(0).type==="fill"&&r.symbolLayers.at(1).type==="line"){let i=r.symbolLayers.at(0),l=r.symbolLayers.at(1);!l.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:l.size,color:l.material!=null?l.material.color:null}),r.symbolLayers.removeAt(1)}return r}static fromSimpleFillSymbol(t){return new Tt({symbolLayers:new c([I.fromSimpleFillSymbol(t)])})}};o([e({type:Be,json:{write:!0}})],At.prototype,"symbolLayers",void 0),o([a({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],At.prototype,"type",void 0),At=Tt=o([s("esri.symbols.PolygonSymbol3D")],At);var jo=At;var le,k=le=class extends S{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){let t=this.portal!=null?this.portal:Y.getDefault(),r=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${t.url}`}read(t,r){this.portal=r?.portal,super.read(t,r)}clone(){return new le({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}_fetchSymbol(t,r){return Ft(this,null,function*(){let i=r!=null?r.cache:null,l=i?this._fetchCacheKey:null;if(i!=null){let Rt=l&&i.get(l);if(Rt)return Rt.clone()}let{resolveWebStyleSymbol:y}=yield import("./chunk-2UHEOSYS.js");pe(r);let St=y(this,{portal:this.portal},t,r);St.catch(Rt=>{T.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",Rt)});let Ut=yield St;return t==="webRef"&&Ut.type==="point-3d"||t==="cimRef"&&Ut.type==="cim"?(i?.set(l,Ut.clone()),Ut):null})}};o([e({json:{write:!1}})],k.prototype,"color",void 0),o([e({type:String,json:{write:!0}})],k.prototype,"styleName",void 0),o([e({type:Y,json:{write:!1}})],k.prototype,"portal",void 0),o([e({type:String,json:{read:Bt,write:X}})],k.prototype,"styleUrl",void 0),o([e({type:tt,json:{read:!1}})],k.prototype,"thumbnail",void 0),o([e({type:String,json:{write:!0}})],k.prototype,"name",void 0),o([a({styleSymbolReference:"web-style"},{readOnly:!0})],k.prototype,"type",void 0),o([e()],k.prototype,"_fetchCacheKey",null),k=le=o([s("esri.symbols.WebStyleSymbol")],k);var It=k;function ih(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function lh(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}var Ve={base:S,key:"type",typeMap:{"simple-fill":No,"picture-fill":ie,"picture-marker":Zt,"simple-line":Po,"simple-marker":qt,text:xt,"label-3d":go,"line-3d":So,"mesh-3d":Do,"point-3d":Lo,"polygon-3d":jo,"web-style":It,cim:Dt},errorContext:"symbol"},ah={base:S,key:"type",typeMap:{"picture-marker":Zt,"simple-marker":qt,text:xt,"web-style":It,cim:Dt},errorContext:"symbol"},ph=me({types:Ve}),nh={base:S,key:"type",typeMap:{"simple-fill":No,"picture-fill":ie,"picture-marker":Zt,"simple-line":Po,"simple-marker":qt,text:xt,"line-3d":So,"mesh-3d":Do,"point-3d":Lo,"polygon-3d":jo,"web-style":It,cim:Dt},errorContext:"symbol"},mh={base:S,key:"type",typeMap:{text:xt,"label-3d":go},errorContext:"symbol"};var yh={base:S,key:"type",typeMap:{"line-3d":So,"mesh-3d":Do,"point-3d":Lo,"polygon-3d":jo,"web-style":It,cim:Dt},errorContext:"symbol"},ch={base:S,key:"type",typeMap:{"label-3d":go},errorContext:"symbol"},uh=ne(Ve);export{Dt as a,eo as b,d as c,wr as d,_r as e,Gt as f,tt as g,P as h,go as i,So as j,Do as k,Zt as l,Lo as m,jo as n,It as o,ih as p,lh as q,Ve as r,ah as s,ph as t,nh as u,mh as v,yh as w,ch as x,uh as y};
