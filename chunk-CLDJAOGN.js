import{d as e,e as f,h as F,i as W,j as I}from"./chunk-3IJY37BG.js";import{b as k,c as w,i as O}from"./chunk-K5NHJTKR.js";import{f as N}from"./chunk-6FWNINU2.js";import{a as L}from"./chunk-ES7AH7WX.js";import{b as C}from"./chunk-UE2YGKE7.js";import{F as R,G as T,H as _,I as M,n as h,w as m,y as S}from"./chunk-BE76S5KT.js";var H=new C(R),E=new C(T),u=new C(_),y=new C(M);function B(a){let s=U.get(a);if(s)return s;let t=H;if(a)if(a===E)t=E;else if(a===u)t=u;else{let c=a.wkid,r=a.latestWkid;if(c!=null||r!=null)m(c)||m(r)?t=E:(S(c)||S(r))&&(t=u);else{let n=a.wkt2??a.wkt;if(n){let i=n.toUpperCase();i===g?t=E:i===x&&(t=u)}}}return U.set(a,t),t}var U=new Map,g=E.wkt.toUpperCase(),x=u.wkt.toUpperCase();function A(a,s,t){let c=Math.sin(a),r=Math.cos(a),n=Math.sin(s),i=Math.cos(s),o=t;return o[0]=-c,o[4]=-n*r,o[8]=i*r,o[12]=0,o[1]=r,o[5]=-n*c,o[9]=i*c,o[13]=0,o[2]=0,o[6]=i,o[10]=n,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function d(a,s,t){return A(a,s,t),w(t,t),t}function Z(a,s,t,c){if(a==null||c==null)return!1;let r=F(a,W),n=F(c,I);if(r===n&&!G(n)&&(r!==e.UNKNOWN||h(a,c)))return O(t,s),!0;if(G(n)){let i=f[r][e.LON_LAT],o=f[e.LON_LAT][n];return i!=null&&o!=null&&(i(s,0,l,0),o(l,0,p,0),A(P*l[0],P*l[1],t),t[12]=p[0],t[13]=p[1],t[14]=p[2],!0)}if((n===e.WEB_MERCATOR||n===e.PLATE_CARREE||n===e.WGS84)&&(r===e.WGS84||r===e.CGCS2000&&n===e.PLATE_CARREE||r===e.SPHERICAL_ECEF||r===e.WEB_MERCATOR)){let i=f[r][e.LON_LAT],o=f[e.LON_LAT][n];return i!=null&&o!=null&&(i(s,0,l,0),o(l,0,p,0),r===e.SPHERICAL_ECEF?d(P*l[0],P*l[1],t):k(t),t[12]=p[0],t[13]=p[1],t[14]=p[2],!0)}return!1}function G(a){return a===e.SPHERICAL_ECEF||a===e.SPHERICAL_MARS_PCPF||a===e.SPHERICAL_MOON_PCPF}var P=N(1),l=L(),p=L();export{B as a,Z as b};
