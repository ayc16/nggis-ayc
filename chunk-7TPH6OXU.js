import{a as G}from"./chunk-72HDUQH4.js";import{g as E}from"./chunk-V2ACH6PW.js";import{D as P}from"./chunk-WD4CT5CX.js";import{a as L}from"./chunk-QBQKFGOZ.js";function q(n){switch(n.type){case"CIMPointSymbol":{let t=n.symbolLayers;if(!t||t.length!==1)return null;let r=t[0];return r.type!=="CIMVectorMarker"?null:q(r)}case"CIMVectorMarker":{let t=n.markerGraphics;if(!t||t.length!==1)return null;let r=t[0];if(!r)return null;let o=r.geometry;if(!o)return null;let s=r.symbol;return!s||s.type!=="CIMPolygonSymbol"&&s.type!=="CIMLineSymbol"||s.symbolLayers?.some(l=>!!l.effects)?null:{type:"sdf",geom:o,asFill:s.type==="CIMPolygonSymbol"}}}}function B(n){return n?n.rings?n.rings:n.paths?n.paths:n.xmin!==void 0&&n.ymin!==void 0&&n.xmax!==void 0&&n.ymax!==void 0?[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]:null:null}function R(n){let t=1/0,r=-1/0,o=1/0,s=-1/0;for(let l of n)for(let e of l)e[0]<t&&(t=e[0]),e[0]>r&&(r=e[0]),e[1]<o&&(o=e[1]),e[1]>s&&(s=e[1]);return new E(t,o,r-t,s-o)}function V(n){let t=1/0,r=-1/0,o=1/0,s=-1/0;for(let l of n)for(let e of l)e[0]<t&&(t=e[0]),e[0]>r&&(r=e[0]),e[1]<o&&(o=e[1]),e[1]>s&&(s=e[1]);return[t,o,r,s]}function O(n){return n?n.rings?V(n.rings):n.paths?V(n.paths):L(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function Q(n,t,r,o,s){let[l,e,i,u]=n;if(i<l||u<e)return[0,0,0,1];let f=i-l,a=u-e,m=128,c=P,M=Math.floor(.5*(.5*m-c)),h=(m-2*(M+c))/Math.max(f,a),p=Math.round(f*h)+2*M,d=Math.round(a*h)+2*M,b=1;t&&(b=d/h/(t.ymax-t.ymin));let x=0,g=0,y=1;o&&(s?t&&r&&t.ymax-t.ymin>0&&(y=(t.xmax-t.xmin)/(t.ymax-t.ymin),x=o.x/(r*y),g=o.y/r):(x=o.x,g=o.y)),t&&(x=.5*(t.xmax+t.xmin)+x*(t.xmax-t.xmin),g=.5*(t.ymax+t.ymin)+g*(t.ymax-t.ymin)),x-=l,g-=e,x*=h,g*=h,x+=M,g+=M;let F=x/p-.5,C=g/d-.5;return s&&r&&(F*=r*y,C*=r),[b,F,C,y]}function T(n){let t=B(n.geom),r=R(t),o=128,s=P,l=Math.floor(.5*(.5*o-s)),e=(o-2*(l+s))/Math.max(r.width,r.height),i=Math.round(r.width*e)+2*l,u=Math.round(r.height*e)+2*l,f=[];for(let m of t)if(m&&m.length>1){let c=[];for(let M of m){let[h,p]=M;h-=r.x,p-=r.y,h*=e,p*=e,h+=l-.5,p+=l-.5,n.asFill?c.push([h,p]):c.push([Math.round(h),Math.round(p)])}if(n.asFill){let M=c.length-1;c[0][0]===c[M][0]&&c[0][1]===c[M][1]||c.push(c[0])}f.push(c)}let a=U(f,i,u,l);return n.asFill&&j(f,i,u,l,a),[z(a,l),i,u]}function U(n,t,r,o){let s=t*r,l=new Array(s),e=o*o+1;for(let i=0;i<s;++i)l[i]=e;for(let i of n){let u=i.length;for(let f=1;f<u;++f){let a=i[f-1],m=i[f],c,M,h,p;a[0]<m[0]?(c=a[0],M=m[0]):(c=m[0],M=a[0]),a[1]<m[1]?(h=a[1],p=m[1]):(h=m[1],p=a[1]);let d=Math.floor(c)-o,b=Math.floor(M)+o,x=Math.floor(h)-o,g=Math.floor(p)+o;d<0&&(d=0),b>t&&(b=t),x<0&&(x=0),g>r&&(g=r);let y=m[0]-a[0],F=m[1]-a[1],C=y*y+F*F;for(let I=d;I<b;I++)for(let w=x;w<g;w++){let S,k,v=(I-a[0])*y+(w-a[1])*F;v<0?(S=a[0],k=a[1]):v>C?(S=m[0],k=m[1]):(v/=C,S=a[0]+v*y,k=a[1]+v*F);let A=(I-S)*(I-S)+(w-k)*(w-k),D=(r-w-1)*t+I;A<l[D]&&(l[D]=A)}}}for(let i=0;i<s;++i)l[i]=Math.sqrt(l[i]);return l}function j(n,t,r,o,s){for(let l of n){let e=l.length;for(let i=1;i<e;++i){let u=l[i-1],f=l[i],a,m,c,M;u[0]<f[0]?(a=u[0],m=f[0]):(a=f[0],m=u[0]),u[1]<f[1]?(c=u[1],M=f[1]):(c=f[1],M=u[1]);let h=Math.floor(a),p=Math.floor(m)+1,d=Math.floor(c),b=Math.floor(M)+1;h<o&&(h=o),p>t-o&&(p=t-o),d<o&&(d=o),b>r-o&&(b=r-o);for(let x=d;x<b;++x){if(u[1]>x==f[1]>x)continue;let g=(r-x-1)*t;for(let y=h;y<p;++y)y<(f[0]-u[0])*(x-u[1])/(f[1]-u[1])+u[0]&&(s[g+y]=-s[g+y]);for(let y=o;y<h;++y)s[g+y]=-s[g+y]}}}}function z(n,t){let r=2*t,o=n.length,s=new Uint8Array(4*o);for(let l=0;l<o;++l){let e=.5-n[l]/r;G(e,s,4*l)}return s}export{q as a,O as b,Q as c,T as d};
