import{a as J}from"./chunk-WB63P7CN.js";import{a as H,b as f,c as I}from"./chunk-SDUXSXKH.js";import{j as G}from"./chunk-K5NHJTKR.js";import{a as d}from"./chunk-BCREO4Q5.js";import{a as C,b as k}from"./chunk-Z5Q76SB7.js";import{a as b,l as w}from"./chunk-E5R4OI7X.js";import{h as F,l as v}from"./chunk-6FWNINU2.js";import{A as j,B as X,C as M,D as Y,E as D,a as m,b as q,j as l,k as L,l as A,m as p,n as u,u as g,v as N,w as R,x as Z,y as B}from"./chunk-ES7AH7WX.js";import{a as z}from"./chunk-RSDQHAJX.js";import{p as V}from"./chunk-X3IDZTNG.js";function Q(t){return t?K(q(t.origin),q(t.direction)):K(m(),m())}function K(t,o){return{origin:t,direction:o}}function Tt(t,o){let n=st.get();return n.origin=t,n.direction=o,n}function U(t,o,n=Q()){return L(n.origin,t),u(n.direction,o,t),n}function W(t,o,n){let r=X(t.direction,u(n,o,t.origin));return p(n,t.origin,g(n,t.direction,r)),n}var st=new J(()=>Q());var it=T();function T(){return C()}var at=w,ct=w;function $(t,o){return b(o,t)}function ut(t,o){return k(t[0],t[1],t[2],o)}function ft(t){return t}function mt(t){t[0]=t[1]=t[2]=t[3]=0}function gt(t,o){return t[0]=t[1]=t[2]=0,t[3]=o,t}function S(t){return t[3]}function lt(t){return t}function pt(t,o,n,r){return k(t,o,n,r)}function dt(t,o,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+o,n}function ht(t,o,n){return V.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t!==n&&$(t,n),n}function x(t,o,n){if(o==null||!tt(t,o,y))return!1;let{t0:r,t1:e}=y;if((r<0||e<r&&e>0)&&(r=e),r<0)return!1;if(n){let{origin:s,direction:i}=o;n[0]=s[0]+i[0]*r,n[1]=s[1]+i[1]*r,n[2]=s[2]+i[2]*r}return!0}function Mt(t,o,n){let r=U(o,n);if(!tt(t,r,y))return[];let{origin:e,direction:s}=r,{t0:i,t1:a}=y,c=h=>{let P=m();return N(P,e,s,h),_(t,P,P)};return Math.abs(i-a)<z()?[c(i)]:[c(i),c(a)]}var y={t0:0,t1:0};function tt(t,o,n){let{origin:r,direction:e}=o,s=bt;s[0]=r[0]-t[0],s[1]=r[1]-t[1],s[2]=r[2]-t[2];let i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(i===0)return!1;let a=2*(e[0]*s[0]+e[1]*s[1]+e[2]*s[2]),c=a*a-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(c<0)return!1;let h=Math.sqrt(c);return n.t0=(-a-h)/(2*i),n.t1=(-a+h)/(2*i),!0}var bt=m();function yt(t,o){return x(t,o,null)}function St(t,o,n){if(x(t,o,n))return n;let r=nt(t,o,f.get());return p(n,o.origin,g(f.get(),o.direction,R(o.origin,r)/l(o.direction))),n}function nt(t,o,n){let r=f.get(),e=I.get();M(r,o.origin,o.direction);let s=S(t);M(n,r,o.origin),g(n,n,1/l(n)*s);let i=ot(t,o.origin),a=H(o.origin,n);return G(e,a+i,r),D(n,n,e),n}function xt(t,o,n){return x(t,o,n)?n:(W(o,t,n),_(t,n,n))}function _(t,o,n){let r=u(f.get(),o,t),e=g(f.get(),r,t[3]/l(r));return p(n,e,t)}function Pt(t,o){let n=u(f.get(),o,t),r=B(n),e=t[3]*t[3];return Math.sqrt(Math.abs(r-e))}function ot(t,o){let n=u(f.get(),o,t),r=l(n),e=S(t),s=e+Math.abs(e-r);return F(e/s)}var E=m();function rt(t,o,n,r){let e=u(E,o,t);switch(n){case d.X:{let s=v(e,E)[2];return A(r,-Math.sin(s),Math.cos(s),0)}case d.Y:{let s=v(e,E),i=s[1],a=s[2],c=Math.sin(i);return A(r,-c*Math.cos(a),-c*Math.sin(a),Math.cos(i))}case d.Z:return j(r,e);default:return}}function et(t,o){let n=u(O,o,t);return l(n)-t[3]}function qt(t,o,n,r){let e=et(t,o),s=rt(t,o,d.Z,O),i=g(O,s,n-e);return p(r,o,i)}function At(t,o){let n=Z(t,o),r=S(t);return n<=r*r}function Rt(t,o,n=C()){let r=R(t,o),e=t[3],s=o[3];return r+s<e?(b(n,t),n):r+e<s?(b(n,o),n):(Y(n,t,o,(r+s-e)/(2*r)),n[3]=(r+e+s)/2,n)}var O=m(),jt=T(),Jt=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:it,altitudeAt:et,angleToSilhouette:ot,axisAt:rt,clear:mt,closestPoint:xt,closestPointOnSilhouette:nt,containsPoint:At,copy:$,create:T,distanceToSilhouette:Pt,elevate:dt,equals:ct,exactEquals:at,fromCenterAndRadius:ut,fromRadius:gt,fromValues:pt,getCenter:lt,getRadius:S,intersectLine:Mt,intersectRay:x,intersectRayClosestSilhouette:St,intersectsRay:yt,projectPoint:_,setAltitudeAt:qt,setExtent:ht,tmpSphere:jt,union:Rt,wrap:ft},Symbol.toStringTag,{value:"Module"}));export{Q as a,Tt as b,T as c,$ as d,S as e,yt as f,At as g};
