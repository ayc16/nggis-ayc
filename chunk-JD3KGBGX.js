import{b as d}from"./chunk-SF6Z2K5H.js";import{O as D}from"./chunk-AUTL5LCV.js";import{b as g}from"./chunk-KUJG22IX.js";var k=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function m(n){return n instanceof D}function V(n){return n instanceof d?Object.keys(n.items):m(n)?g(n).keys():n?Object.keys(n):[]}function p(n,e){return n instanceof d?n.items[e]:n[e]}function O(n,e){return!(!Array.isArray(n)||!Array.isArray(e))&&n.length!==e.length}function c(n){return n?n.declaredClass:null}function j(n,e){let t=n.diff;if(t&&typeof t=="function")return t(n,e);let i=V(n),l=V(e);if(i.length===0&&l.length===0)return;if(!i.length||!l.length||O(n,e))return{type:"complete",oldValue:n,newValue:e};let s=l.filter(o=>!i.includes(o)),w=i.filter(o=>!l.includes(o)),h=i.filter(o=>l.includes(o)&&p(n,o)!==p(e,o)).concat(s,w).sort(),b=c(n);if(b&&k.has(b)&&h.length)return{type:"complete",oldValue:n,newValue:e};let a,A=m(n)&&m(e);for(let o of h){let r=p(n,o),f=p(e,o),u;if((A||typeof r!="function"&&typeof f!="function")&&r!==f&&(r!=null||f!=null)){if(t&&t[o]&&typeof t[o]=="function")u=t[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;u={type:"complete",oldValue:r,newValue:f}}else u=typeof r=="object"&&typeof f=="object"&&c(r)===c(f)?j(r,f):{type:"complete",oldValue:r,newValue:f};u!=null&&(a!=null?a.diff[o]=u:a={type:"partial",diff:{[o]:u}})}}return a}function T(n,e){return P(n,e)}function P(n,e){if(n==null)return!1;let t=e.split("."),i=n;for(let l of t){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{let s=i.diff[l];if(!s)return!1;i=s}}return!0}function v(n,e){if(!n)return!1;if(n.type==="partial"){let t=Object.keys(n.diff);return t.length===1&&t[0]===e}return!1}function x(n,e){if(typeof n!="function"&&typeof e!="function"&&(n!=null||e!=null))return n==null||e==null||typeof n=="object"&&typeof e=="object"&&c(n)!==c(e)?{type:"complete",oldValue:n,newValue:e}:j(n,e)}function y(n){if(n==null)return!0;switch(n.type){case"complete":return!1;case"collection":{let e=n;for(let t of e.added)if(!y(t))return!1;for(let t of e.removed)if(!y(t))return!1;for(let t of e.changed)if(!y(t))return!1;return!0}case"partial":for(let e in n.diff)if(!y(n.diff[e]))return!1;return!0}}export{T as a,P as b,v as c,x as d,y as e};
